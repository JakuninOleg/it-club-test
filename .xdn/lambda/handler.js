!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(global,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=58)}([function(e,t,r){var n=r(37),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){var r=Array.isArray;e.exports=r},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XDN_CONFIG_FILE="xdn.config.js",t.XDN_ASSET_ALIASES_FILE="asset-aliases.json",t.XDN_ENV_VARIABLES={config:"XDN_CONFIG",deploymentType:"XDN_DEPLOYMENT_TYPE",versionOverride:"XDN_VERSION_OVERRIDE"},t.XDN_DEPLOYMENT_TYPE_AWS="AWS",t.XDN_HEADERS_PREFIX="x-xdn-",t.XDN_MAX_USER_HEADERS_ALLOWED=70,t.XDN_TOO_MANY_HEADERS_STATUS_CODE=542,t.XDN_UNCACHED_PREFETCH_STATUS=412,t.ACTIONS={setHeader:"set-header",updateHeader:"update-header",removeHeader:"remove-header",syntheticRes:"synthetic-response",updatePath:"update-path",proxy:"proxy",addCookie:"add-cookie",updateCookie:"update-cookie",removeCookie:"remove-cookie"},t.BACKENDS={js:"__js__",static:"__static__"},t.HTTP_METHODS={head:"head",get:"get",post:"post",delete:"delete",put:"put",patch:"patch",options:"options"},t.HTTP_HEADERS={authorization:"authorization",acceptEncoding:"accept-encoding",cacheControl:"cache-control",contentEncoding:"content-encoding",contentType:"content-type",cookie:"cookie",host:"host",location:"location",serverTiming:"server-timing",setCookie:"set-cookie",userAgent:"user-agent",vary:"vary",xForwardedFor:"x-forwarded-for",xRequestId:"x-request-id",xSwCacheControl:"x-sw-cache-control",xXdnBrowser:"x-xdn-browser",xXdnCacheControl:"x-xdn-cache-control",xXdnCachingStatus:"x-xdn-caching-status",xXdnClientIp:"x-xdn-client-ip",xXdnComponents:"x-xdn-components",xXdnDestination:"x-xdn-destination",xXdnDevice:"x-xdn-device",xXdnDeviceIsBot:"x-xdn-device-is-bot",xXdnGeoCity:"x-xdn-geo-city",xXdnGeoCountryCode:"x-xdn-geo-country-code",xXdnGeoLatitude:"x-xdn-geo-latitude",xXdnGeoLongitude:"x-xdn-geo-longitude",xXdnGeoPostalCode:"x-xdn-geo-postal-code",xXdnMatchedRoutes:"x-xdn-matched-routes",xXdnProtocol:"x-xdn-protocol",xXdnRoute:"x-xdn-route",xXdnStatus:"x-xdn-status",xXdnT:"x-xdn-t",xXdnUserT:"x-xdn-user-t",xXdnVendor:"x-xdn-vendor",xXdnVersion:"x-xdn-version"},t.CACHING_STATUS={ok:"ok",private:"private",method:"method",bodyTooBig:"body-too-big",code:"code",setCookie:"set-cookie",noMaxAge:"no-max-age"},t.CACHEABLE_METHODS=new Set(["get","head"]),t.PREFETCH_QUERY_PARAM="xdn_prefetch",t.HEAD_QUERY_PARAM="xdn_head",t.POST_BODY_QUERY_PARAM="pref_xdn_body",t.METHOD_QUERY_PARAM="pref_xdn_method",t.ROUTES_FALLBACK="fallback"},function(e,t,r){var n=r(20),o=r(65),i=r(66),s=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?o(e):i(e)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(72),o=r(75);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},function(e,t){e.exports=require("crypto")},function(e,t,r){"use strict";const n=Symbol("pino.setLevel"),o=Symbol("pino.getLevel"),i=Symbol("pino.levelVal"),s=Symbol("pino.useLevelLabels"),a=Symbol("pino.useOnlyCustomLevels"),c=Symbol("pino.mixin"),u=Symbol("pino.lsCache"),l=Symbol("pino.chindings"),f=Symbol("pino.parsedChindings"),d=Symbol("pino.asJson"),p=Symbol("pino.write"),h=Symbol("pino.redactFmt"),y=Symbol("pino.time"),m=Symbol("pino.timeSliceIndex"),v=Symbol("pino.stream"),b=Symbol("pino.stringify"),g=Symbol("pino.stringifiers"),x=Symbol("pino.end"),_=Symbol("pino.formatOpts"),w=Symbol("pino.messageKey"),S=Symbol("pino.nestedKey"),j=Symbol("pino.wildcardFirst"),C=Symbol.for("pino.serializers"),O=Symbol.for("pino.formatters"),E=Symbol.for("pino.hooks"),A=Symbol.for("pino.metadata");e.exports={setLevelSym:n,getLevelSym:o,levelValSym:i,useLevelLabelsSym:s,mixinSym:c,lsCacheSym:u,chindingsSym:l,parsedChindingsSym:f,asJsonSym:d,writeSym:p,serializersSym:C,redactFmtSym:h,timeSym:y,timeSliceIndexSym:m,streamSym:v,stringifySym:b,stringifiersSym:g,endSym:x,formatOptsSym:_,messageKeySym:w,nestedKeySym:S,wildcardFirstSym:j,needsMetadataGsym:A,useOnlyCustomLevelsSym:a,formattersSym:O,hooksSym:E}},function(module,exports,__webpack_require__){"use strict";var __importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var slash_1=__importDefault(__webpack_require__(173));function nonWebpackRequire(modulePath){return eval("require")(slash_1.default(modulePath))}exports.default=nonWebpackRequire},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(79),o=r(5),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=c},function(e,t,r){var n=r(21),o=r(23);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t){e.exports=require("util")},function(e,t,r){var n=r(6)(Object,"create");e.exports=n},function(e,t,r){var n=r(120),o=r(121),i=r(122),s=r(123),a=r(124);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,r){var n=r(17);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(126);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(0).Symbol;e.exports=n},function(e,t,r){var n=r(4),o=r(2);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t,r){var n=r(6)(r(0),"Map");e.exports=n},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){(function(e){var n=r(0),o=r(80),i=t&&!t.nodeType&&t,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===i?n.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;e.exports=c}).call(this,r(25)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(81),o=r(82),i=r(83),s=i&&i.isTypedArray,a=s?o(s):n;e.exports=a},function(e,t){e.exports=require("os")},function(e,t,r){"use strict";e.exports=/[^.[\]]+|\[((?:.)*?)\]/g},function(e,t){e.exports=require("fs")},function(e,t,r){"use strict";e.exports=function(e){return e}},function(e,t,r){"use strict";const n=r(103),{mapHttpRequest:o,mapHttpResponse:i}=r(41),s=r(44),a=r(104),{lsCacheSym:c,chindingsSym:u,parsedChindingsSym:l,writeSym:f,serializersSym:d,formatOptsSym:p,endSym:h,stringifiersSym:y,stringifySym:m,wildcardFirstSym:v,needsMetadataGsym:b,redactFmtSym:g,streamSym:x,nestedKeySym:_,formattersSym:w,messageKeySym:S}=r(8);function j(){}function C(e){var t="",r=0,n=!1,o=255;const i=e.length;if(i>100)return JSON.stringify(e);for(var s=0;s<i&&o>=32;s++)34!==(o=e.charCodeAt(s))&&92!==o||(t+=e.slice(r,s)+"\\",r=s,n=!0);return n?t+=e.slice(r):t=e,o<32?JSON.stringify(e):'"'+t+'"'}function O(e,t,n,o){if(t&&"function"==typeof t)return E((t=t.bind(o))(e),n,e);try{var i=r(!function(){var e=new Error("Cannot find module 'pino-pretty'");throw e.code="MODULE_NOT_FOUND",e}());return i.asMetaWrapper=E,E(i(e),n,e)}catch(e){throw Error("Missing `pino-pretty` module: `pino-pretty` must be installed separately")}}function E(e,t,r){r=Object.assign({suppressFlushSyncWarning:!1},r);var n=!1;return{[b]:!0,lastLevel:0,lastMsg:null,lastObj:null,lastLogger:null,flushSync(){r.suppressFlushSyncWarning||n||(n=!0,T(t,this),t.write(e(Object.assign({level:40,msg:"pino.final with prettyPrint does not support flushing",time:Date.now()},this.chindings()))))},chindings(){const e=this.lastLogger;var t=null;return e?(e.hasOwnProperty(l)?t=e[l]:(t=JSON.parse("{"+e[u].substr(1)+"}"),e[l]=t),t):null},write(r){const n=this.lastLogger,o=this.chindings();var i=this.lastTime;i.match(/^\d+/)&&(i=parseInt(i));var s=this.lastObj,a=this.lastMsg;const c=n[w],u=c.log?c.log(s):s,l=n[S];a&&u&&!u.hasOwnProperty(l)&&(u[l]=a);const f=Object.assign({level:this.lastLevel,time:i},u,null),p=n[d],h=Object.keys(p);for(var m,v=0;v<h.length;v++)void 0!==f[m=h[v]]&&(f[m]=p[m](f[m]));for(m in o)f.hasOwnProperty(m)||(f[m]=o[m]);const b=n[y][g],x=e("function"==typeof b?b(f):f);void 0!==x&&(T(t,this),t.write(x))}}}function A(e){const t=new s(e);return t.on("error",(function e(r){if("EPIPE"===r.code)return t.write=j,t.end=j,t.flushSync=j,void(t.destroy=j);t.removeListener("error",e),t.emit("error",r)})),t}function T(e,t){!0===e[b]&&(e.lastLevel=t.lastLevel,e.lastMsg=t.lastMsg,e.lastObj=t.lastObj,e.lastTime=t.lastTime,e.lastLogger=t.lastLogger)}e.exports={noop:j,buildSafeSonicBoom:A,getPrettyStream:O,asChindings:function(e,t){var r,n,o=e[u];const i=e[m],s=e[y],a=s[v],c=e[d],l=e[w].bindings;for(r in t=l(t)){if(n=t[r],!0===("level"!==r&&"serializers"!==r&&"formatters"!==r&&"customLevels"!==r&&t.hasOwnProperty(r)&&void 0!==n)){if(n=c[r]?c[r](n):n,void 0===(n=(s[r]||a||i)(n)))continue;o+=',"'+r+'":'+n}}return o},asJson:function(e,t,r,n){const o=this[m],i=this[y],s=this[h],a=this[u],l=this[d],f=this[w],p=this[S];var b,g=this[c][r]+n;g+=a;var x=void 0===e.hasOwnProperty;f.log&&(e=f.log(e)),void 0!==t&&(e[p]=t);const _=i[v];for(var j in e)if(b=e[j],(x||e.hasOwnProperty(j))&&void 0!==b){b=l[j]?l[j](b):b;const e=i[j]||_;switch(typeof b){case"undefined":case"function":continue;case"number":!1===Number.isFinite(b)&&(b=null);case"boolean":e&&(b=e(b));break;case"string":b=(e||C)(b);break;default:b=(e||o)(b)}if(void 0===b)continue;g+=',"'+j+'":'+b}return g+s},genLog:function(e,t){return t?function(...e){t.call(this,e,r)}:r;function r(t,...r){if("object"==typeof t){var s,a=t;null!==t&&(t.method&&t.headers&&t.socket?t=o(t):"function"==typeof t.setHeader&&(t=i(t))),this[_]&&(t={[this[_]]:t}),null===a&&0===r.length?s=[null]:(a=r.shift(),s=r),this[f](t,n(a,s,this[p]),e)}else this[f](null,n(t,r,this[p]),e)}},createArgsNormalizer:function(e){return function(t,r={},n){if("string"==typeof r?(n=A({dest:r,sync:!0}),r={}):"string"==typeof n?n=A({dest:n,sync:!0}):(r instanceof s||r.writable||r._writableState)&&(n=r,r=null),"extreme"in(r=Object.assign({},e,r)))throw Error("The extreme option has been removed, use pino.destination({ sync: false }) instead");if("onTerminated"in r)throw Error("The onTerminated option has been removed, use pino.final instead");"changeLevelName"in r&&(process.emitWarning("The changeLevelName option is deprecated and will be removed in v7. Use levelKey instead.",{code:"changeLevelName_deprecation"}),r.levelKey=r.changeLevelName,delete r.changeLevelName);const{enabled:o,prettyPrint:i,prettifier:a,messageKey:c}=r;if(!1===o&&(r.level="silent"),(n=n||process.stdout)===process.stdout&&n.fd>=0&&!function(e){return e.write!==e.constructor.prototype.write}(n)&&(n=A({fd:n.fd,sync:!0})),i){n=O(Object.assign({messageKey:c},i),a,n,t)}return{opts:r,stream:n}}},final:function(e,t){if(void 0===e||"function"!=typeof e.child)throw Error("expected a pino logger instance");const r=void 0!==t;if(r&&"function"!=typeof t)throw Error("if supplied, the handler parameter should be a function");const n=e[x];if("function"!=typeof n.flushSync)throw Error("final requires a stream that has a flushSync method, such as pino.destination");const o=new Proxy(e,{get:(e,t)=>t in e.levels.values?(...r)=>{e[t](...r),n.flushSync()}:e[t]});return r?(e=null,...r)=>{try{n.flushSync()}catch(e){}return t(e,o,...r)}:o},stringify:function(e){try{return JSON.stringify(e)}catch(t){return a(e)}},buildFormatters:function(e,t,r){return{level:e,bindings:t,log:r}}}},function(e,t,r){var n=r(1),o=r(109),i=r(110),s=r(130);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(s(e))}},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},function(e,t,r){var n=r(33);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,r){var n=r(49);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},function(e,t){e.exports=require("path")},function(e,t){var r="object"==typeof global&&global&&global.Object===Object&&global;e.exports=r},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);function o(){return process.env[n.XDN_ENV_VARIABLES.deploymentType]===n.XDN_DEPLOYMENT_TYPE_AWS}function i(){return!0}t.isCloud=o,t.isProductionBuild=i,t.isXdnRunDev=function(){return!o()&&!1}},function(e,t,r){"use strict";var n=r(89),o=r(90),i=r(91);e.exports={err:n,mapHttpRequest:o.mapHttpRequest,mapHttpResponse:i.mapHttpResponse,req:o.reqSerializer,res:i.resSerializer,wrapErrorSerializer:function(e){return e===n?e:function(t){return e(n(t))}},wrapRequestSerializer:function(e){return e===o.reqSerializer?e:function(t){return e(o.reqSerializer(t))}},wrapResponseSerializer:function(e){return e===i.resSerializer?e:function(t){return e(i.resSerializer(t))}}}},function(e,t,r){"use strict";function n(e,t,r,n,o){var i,s,a,c,u,l=-1,f=r.length,d=f-1,p=null,h=!0;if(a=i=e[t],"object"!=typeof i)return{value:null,parent:null,exists:h};for(;null!=i&&++l<f;){if(p=a,!((t=r[l])in i)){h=!1;break}if(a=i[t],s=o?n(a):n,s=l!==d?a:s,i[t]=(c=i,u=t,Object.prototype.hasOwnProperty.call(c,u)&&s===a||void 0===s&&void 0!==n?i[t]:s),"object"!=typeof(i=i[t]))break}return{value:a,parent:p,exists:h}}function o(e,t){for(var r=-1,n=t.length,o=e;null!=o&&++r<n;)o=o[t[r]];return o}e.exports={groupRedact:function(e,t,r,n){const i=o(e,t);if(null==i)return{keys:null,values:null,target:null,flat:!0};const s=Object.keys(i),a=s.length,c=new Array(a);for(var u=0;u<a;u++){const e=s[u];c[u]=i[e],i[e]=n?r(i[e]):r}return{keys:s,values:c,target:i,flat:!0}},groupRestore:function({keys:e,values:t,target:r}){if(null==r)return;const n=e.length;for(var o=0;o<n;o++){const n=e[o];r[n]=t[o]}},nestedRedact:function(e,t,r,i,s,a){const c=o(t,r);if(null==c)return;const u=Object.keys(c),l=u.length;for(var f=0;f<l;f++){const t=u[f],{value:r,parent:o,exists:l}=n(c,t,i,s,a);!0===l&&null!==o&&e.push({key:i[i.length-1],target:o,value:r})}return e},nestedRestore:function(e){const t=e.length;for(var r=0;r<t;r++){const{key:t,target:n,value:o}=e[r];n[t]=o}}}},function(e,t){e.exports=require("events")},function(e,t,r){"use strict";const n=r(29),o=r(43),i=r(30),s=r(13).inherits,a=r(102);function c(e,t){function r(e,r){if(e)t.emit("error",e);else if(t.fd=r,t._reopening=!1,t._opening=!1,t._writing=!1,t.emit("ready"),!t._reopening){var n=t._buf.length;n>0&&n>t.minLength&&!t.destroyed&&f(t)}}if(t._opening=!0,t._writing=!0,t._asyncDrainScheduled=!1,t.file=e,t.sync){r(null,n.openSync(e,"a")),process.nextTick(()=>t.emit("ready"))}else n.open(e,"a",r)}function u(e){if(!(this instanceof u))return new u(e);var{fd:t,dest:r,minLength:o,sync:i}=e||{};if(t=t||r,this._buf="",this.fd=-1,this._writing=!1,this._writingBuf="",this._ending=!1,this._reopening=!1,this._asyncDrainScheduled=!1,this.file=null,this.destroyed=!1,this.sync=i||!1,this.minLength=o||0,"number"==typeof t)this.fd=t,process.nextTick(()=>this.emit("ready"));else{if("string"!=typeof t)throw new Error("SonicBoom supports only file descriptors and files");c(t,this)}this.release=(e,t)=>{if(e)if("EAGAIN"===e.code)if(this.sync)try{a(100),this.release(void 0,0)}catch(e){this.release(e)}else setTimeout(()=>{n.write(this.fd,this._writingBuf,"utf8",this.release)},100);else this.emit("error",e);else{if(this._writingBuf.length!==t){if(this._writingBuf=this._writingBuf.slice(t),!this.sync)return void n.write(this.fd,this._writingBuf,"utf8",this.release);try{do{t=n.writeSync(this.fd,this._writingBuf,"utf8"),this._writingBuf=this._writingBuf.slice(t)}while(0!==this._writingBuf.length)}catch(e){return void this.release(e)}}if(this._writingBuf="",!this.destroyed){var r=this._buf.length;this._reopening?(this._writing=!1,this._reopening=!1,this.reopen()):r>0&&r>this.minLength?f(this):this._ending?r>0?f(this):(this._writing=!1,d(this)):(this._writing=!1,this.sync?this._asyncDrainScheduled||(this._asyncDrainScheduled=!0,process.nextTick(l,this)):this.emit("drain"))}}},this.on("newListener",(function(e){"drain"===e&&(this._asyncDrainScheduled=!1)}))}function l(e){e.listenerCount("drain")>0&&(e._asyncDrainScheduled=!1,e.emit("drain"))}function f(e){e._writing=!0;var t=e._buf,r=e.release;if(t.length>16777216?(t=t.slice(0,16777216),e._buf=e._buf.slice(16777216)):e._buf="",i(t),e._writingBuf=t,e.sync)try{r(null,n.writeSync(e.fd,t,"utf8"))}catch(e){r(e)}else n.write(e.fd,t,"utf8",r)}function d(e){-1!==e.fd?(n.close(e.fd,t=>{t?e.emit("error",t):(e._ending&&!e._writing&&e.emit("finish"),e.emit("close"))}),e.destroyed=!0,e._buf=""):e.once("ready",d.bind(null,e))}s(u,o),u.prototype.write=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");this._buf+=e;var t=this._buf.length;return!this._writing&&t>this.minLength&&f(this),t<16384},u.prototype.flush=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._writing||this.minLength<=0||f(this)},u.prototype.reopen=function(e){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this._opening)this.once("ready",()=>{this.reopen(e)});else if(!this._ending){if(!this.file)throw new Error("Unable to reopen a file descriptor, you must pass a file to SonicBoom");this._reopening=!0,this._writing||(n.close(this.fd,e=>{if(e)return this.emit("error",e)}),c(e||this.file,this))}},u.prototype.end=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");this._opening?this.once("ready",()=>{this.end()}):this._ending||(this._ending=!0,!this._writing&&this._buf.length>0&&this.fd>=0?f(this):this._writing||d(this))},u.prototype.flushSync=function(){if(this.destroyed)throw new Error("SonicBoom destroyed");if(this.fd<0)throw new Error("sonic boom is not ready yet");this._buf.length>0&&(n.writeSync(this.fd,this._buf,"utf8"),this._buf="")},u.prototype.destroy=function(){this.destroyed||d(this)},e.exports=u},function(e,t,r){"use strict";const n=r(30),{lsCacheSym:o,levelValSym:i,useOnlyCustomLevelsSym:s,streamSym:a,formattersSym:c,hooksSym:u}=r(8),{noop:l,genLog:f}=r(31),d={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},p={fatal:e=>{const t=f(d.fatal,e);return function(...e){const r=this[a];if(t.call(this,...e),"function"==typeof r.flushSync)try{r.flushSync()}catch(e){}}},error:e=>f(d.error,e),warn:e=>f(d.warn,e),info:e=>f(d.info,e),debug:e=>f(d.debug,e),trace:e=>f(d.trace,e)},h=Object.keys(d).reduce((e,t)=>(e[d[t]]=t,e),{}),y=Object.keys(h).reduce((e,t)=>(e[t]=n('{"level":'+Number(t)),e),{});function m(e,t){if(t)return!1;switch(e){case"fatal":case"error":case"warn":case"info":case"debug":case"trace":return!0;default:return!1}}e.exports={initialLsCache:y,genLsCache:function(e){const t=e[c].level,{labels:r}=e.levels,n={};for(const e in r){const o=t(r[e],Number(e));n[e]=JSON.stringify(o).slice(0,-1)}return e[o]=n,e},levelMethods:p,getLevel:function(e){const{levels:t,levelVal:r}=this;return t&&t.labels?t.labels[r]:""},setLevel:function(e){const{labels:t,values:r}=this.levels;if("number"==typeof e){if(void 0===t[e])throw Error("unknown level value"+e);e=t[e]}if(void 0===r[e])throw Error("unknown level "+e);const n=this[i],o=this[i]=r[e],a=this[s],c=this[u].logMethod;for(var d in r)o>r[d]?this[d]=l:this[d]=m(d,a)?p[d](c):f(r[d],c);this.emit("level-change",e,o,t[n],n)},isLevelEnabled:function(e){const{values:t}=this.levels,r=t[e];return void 0!==r&&r>=this[i]},mappings:function(e=null,t=!1){const r=e?Object.keys(e).reduce((t,r)=>(t[e[r]]=r,t),{}):null;return{labels:Object.assign(Object.create(Object.prototype,{Infinity:{value:"silent"}}),t?null:h,r),values:Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),t?null:d,e)}},assertNoLevelCollisions:function(e,t){const{labels:r,values:n}=e;for(const e in t){if(e in n)throw Error("levels cannot be overridden");if(t[e]in r)throw Error("pre-existing level values cannot be used for new levels")}},assertDefaultLevelFound:function(e,t,r){if("number"==typeof e){if(![].concat(Object.keys(t||{}).map(e=>t[e]),r?[]:Object.keys(h).map(e=>+e),1/0).includes(e))throw Error(`default level:${e} must be included in custom levels`);return}if(!(e in Object.assign(Object.create(Object.prototype,{silent:{value:1/0}}),r?null:d,t)))throw Error(`default level:${e} must be included in custom levels`)}}},function(e,t,r){"use strict";const{version:n}=r(105);e.exports={version:n}},function(e,t,r){var n=r(113),o=r(125),i=r(127),s=r(128),a=r(129);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,r){var n=r(35),o=r(17),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var s=e[t];i.call(e,t)&&o(s,r)&&(void 0!==r||t in e)||n(e,t,r)}},function(e,t,r){var n=r(6),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},function(e,t,r){var n=r(135),o=r(136);e.exports=function(e,t){return null!=e&&o(e,t,n)}},function(e,t,r){var n=r(35),o=r(17);e.exports=function(e,t,r){(void 0!==r&&!o(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},function(e,t,r){var n=r(38)(Object.getPrototypeOf,Object);e.exports=n},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,r){var n=r(159),o=r(161),i=r(12);e.exports=function(e){return i(e)?n(e,!0):o(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(178)),a=!1,c=function(){function e(e){this.started=!1,this.port=e}return e.isSubclass=function(e){return"JSBackend"==e.__type__},e.prototype.start=function(){return n(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return(e=a)?[3,2]:[4,s.default.check(this.port)];case 1:e=t.sent(),t.label=2;case 2:return e?[2]:[3,3];case 3:return a=!0,[4,this.doStart()];case 4:t.sent(),t.label=5;case 5:return[2]}}))}))},e.prototype.doStart=function(){return n(this,void 0,void 0,(function(){return o(this,(function(e){throw new Error("Subclasses must override the doStart method.")}))}))},e.__type__="JSBackend",e}();t.default=c},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return r;a++;const i=n.formatters[o];if("function"==typeof i){const n=e[a];r=i.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){return n(this.namespace+(void 0===t?":":t)+e)}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(187),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s,a=i(r(59)),c=i(r(86)),u=r(3),l=i(r(106)),f=i(r(176)),d=r(177),p=i(r(56)),h=i(r(192)),y=i(r(9)),m=f.default(y.default("./routes")),v=l.default.getServer();v&&(s=p.default.isSubclass(v)?new v(3001):new h.default(3001,v),m.setBackend(u.BACKENDS.js,{domainOrIp:"127.0.0.1",port:3001})),t.handler=function(e){return n(this,void 0,void 0,(function(){var t,r,n,i;return o(this,(function(o){switch(o.label){case 0:switch(e.action){case"getEdgeConfig":return[2,m.createEdgeConfig()];case"getPreloadConfig":return[2,m.createPreloadConfig()]}t=a.default(e),r=t.req,n=t.res,i=t.responsePromise,c.default.enable({clientIp:r.headers[u.HTTP_HEADERS.xXdnClientIp],requestId:r.headers[u.HTTP_HEADERS.xRequestId]}),o.label=1;case 1:return o.trys.push([1,,5,6]),s?[4,s.start()]:[3,3];case 2:o.sent(),o.label=3;case 3:return d.resetTimings(),m.run(r,n),[4,i];case 4:return[2,o.sent()];case 5:return c.default.disable(),[7];case 6:return[2]}}))}))}},function(e,t,r){"use strict";var n=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=r(60),a=r(194),c=r(3),u=i(r(61)),l=i(r(67)),f=i(r(84));function d(e,t,r){var n=e.multiValueHeaders[t];n?Array.isArray(n)?n[0]=r+","+n[0]:e.multiValueHeaders[t]=r+","+n:e.multiValueHeaders[t]=""+r}t.default=function(e,t){var i,p,h,y,m,v=Date.now(),b={body:Buffer.from(""),isBase64Encoded:!0,statusCode:200,statusMessage:"OK",multiValueHeaders:{}},g=new f.default.Readable;if(g.url=e.path,g.path=e.path,g.query={},g.method=e.httpMethod,g.rawHeaders=[],g.headers={},!l.default(e.multiValueQueryStringParameters)){var x=s.stringify(e.multiValueQueryStringParameters);g.url+="?"+x,g.query=s.parse(x)}var _,w=e.multiValueHeaders||{};try{for(var S=n(Object.keys(w)),j=S.next();!j.done;j=S.next()){var C=j.value;try{for(var O=(h=void 0,n(w[C])),E=O.next();!E.done;E=O.next()){var A=E.value;g.rawHeaders.push(C),g.rawHeaders.push(A)}}catch(e){h={error:e}}finally{try{E&&!E.done&&(y=O.return)&&y.call(O)}finally{if(h)throw h.error}}g.headers[C.toLowerCase()]=w[C].toString()}}catch(e){i={error:e}}finally{try{j&&!j.done&&(p=S.return)&&p.call(S)}finally{if(i)throw i.error}}g.getHeader=function(e){return g.headers[e.toLowerCase()]},g.getHeaders=function(){return g.headers},g.connection={},g.secure="http"!==g.getHeader(c.HTTP_HEADERS.xXdnProtocol),g.socket={encrypted:g.secure},g.protocol=g.secure?"https":"http",g.headers[c.HTTP_HEADERS.xRequestId]||(_=a.v4(),g.headers[c.HTTP_HEADERS.xRequestId]=_);var T=new f.default;Object.defineProperty(T,"statusCode",{get:function(){return b.statusCode},set:function(e){b.statusCode=e}}),Object.defineProperty(T,"statusMessage",{get:function(){return b.statusMessage},set:function(e){b.statusMessage=e}}),T.headers={},T.writeHead=function(e,t,r){b.statusCode=e,"string"==typeof t?b.statusMessage=t:"object"==typeof t&&(r=t,t=void 0),"object"==typeof r&&Object.entries(r).forEach((function(e){var t=o(e,2),r=t[0],n=t[1];T.setHeader(r,n)})),_&&T.setHeader(c.HTTP_HEADERS.xRequestId,_)},T.write=function(e){b.body=Buffer.concat([b.body,Buffer.isBuffer(e)?e:Buffer.from(e)])},T.setHeader=function(e,t){T.headers[e.toLowerCase()]=t},T.removeHeader=function(e){delete T.headers[e.toLowerCase()]},T.getHeader=function(e){return T.headers[e.toLowerCase()]},T.getHeaders=function(){return T.headers};var k=function(e,t){return function(o){o&&T.write(o),(g.getHeader(c.HTTP_HEADERS.acceptEncoding)||"").split(",").includes("gzip")&&null==T.getHeader(c.HTTP_HEADERS.contentEncoding)&&u.default(T,b),b.body=Buffer.from(b.body).toString("base64"),b.multiValueHeaders=T.headers,function(e){d(e,c.HTTP_HEADERS.xXdnStatus,"w="+e.statusCode)}(b),function(e,t){var r=Date.now()-t;d(e,c.HTTP_HEADERS.xXdnT,"wt="+r)}(b,v),function(e,t){d(e,c.HTTP_HEADERS.xXdnComponents,"w="+t)}(b,process.env[c.XDN_ENV_VARIABLES.versionOverride]||r(85).version),function(){var e,t;try{for(var r=n(Object.keys(b.multiValueHeaders)),o=r.next();!o.done;o=r.next()){var i=o.value;Array.isArray(b.multiValueHeaders[i])||(b.multiValueHeaders[i]=[b.multiValueHeaders[i]])}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}}(),e?e(null,b):t(b)}};return"function"==typeof t?T.end=k(t):m=new Promise((function(e){T.end=k(null,e)})),e.body&&g.push(e.body,e.isBase64Encoded?"base64":void 0),g.push(null),{req:g,res:T,responsePromise:m}}},function(e,t){e.exports=require("querystring")},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(62),i=r(63),s=n(r(64)),a=["application/atom_xml","application/javascript","application/json","application/rss+xml","application/vnd.ms-fontobject","application/x-font-opentype","application/x-font-ttf","application/x-javascript","application/xhtml+xml","application/xml","application/xml+rss","font/eot","font/opentype","font/otf","image/svg+xml","image/x-icon","text/css","text/html","text/javascript","text/js","text/plain"];t.default=function(e,t){var r=e.getHeader("content-type");if((r=s.default(r)?[r]:r)&&a.includes(o.parse(r[0]).type.toLowerCase())){var n=i.gzipSync(Buffer.from(t.body));e.setHeader("content-length",Buffer.byteLength(n)),e.setHeader("content-encoding","gzip"),t.body=n}}},function(e,t,r){"use strict";
/*!
 * content-type
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */var n=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,o=/^[\u000b\u0020-\u007e\u0080-\u00ff]+$/,i=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/,s=/\\([\u000b\u0020-\u00ff])/g,a=/([\\"])/g,c=/^[!#$%&'*+.^_`|~0-9A-Za-z-]+\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/;function u(e){var t=String(e);if(i.test(t))return t;if(t.length>0&&!o.test(t))throw new TypeError("invalid parameter value");return'"'+t.replace(a,"\\$1")+'"'}function l(e){this.parameters=Object.create(null),this.type=e}t.format=function(e){if(!e||"object"!=typeof e)throw new TypeError("argument obj is required");var t=e.parameters,r=e.type;if(!r||!c.test(r))throw new TypeError("invalid type");var n=r;if(t&&"object"==typeof t)for(var o,s=Object.keys(t).sort(),a=0;a<s.length;a++){if(o=s[a],!i.test(o))throw new TypeError("invalid parameter name");n+="; "+o+"="+u(t[o])}return n},t.parse=function(e){if(!e)throw new TypeError("argument string is required");var t="object"==typeof e?function(e){var t;"function"==typeof e.getHeader?t=e.getHeader("content-type"):"object"==typeof e.headers&&(t=e.headers&&e.headers["content-type"]);if("string"!=typeof t)throw new TypeError("content-type header is missing from object");return t}(e):e;if("string"!=typeof t)throw new TypeError("argument string is required to be a string");var r=t.indexOf(";"),o=-1!==r?t.substr(0,r).trim():t.trim();if(!c.test(o))throw new TypeError("invalid media type");var i=new l(o.toLowerCase());if(-1!==r){var a,u,f;for(n.lastIndex=r;u=n.exec(t);){if(u.index!==r)throw new TypeError("invalid parameter format");r+=u[0].length,a=u[1].toLowerCase(),'"'===(f=u[2])[0]&&(f=f.substr(1,f.length-2).replace(s,"$1")),i.parameters[a]=f}if(r!==t.length)throw new TypeError("invalid parameter format")}return i}},function(e,t){e.exports=require("zlib")},function(e,t,r){var n=r(4),o=r(1),i=r(5);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==n(e)}},function(e,t,r){var n=r(20),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{e[a]=void 0;var n=!0}catch(e){}var o=s.call(e);return n&&(t?e[a]=r:delete e[a]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(68),o=r(70),i=r(11),s=r(1),a=r(12),c=r(24),u=r(10),l=r(26),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(a(e)&&(s(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||l(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}},function(e,t,r){var n=r(10),o=r(69),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t,r){var n=r(38)(Object.keys,Object);e.exports=n},function(e,t,r){var n=r(71),o=r(22),i=r(76),s=r(77),a=r(78),c=r(4),u=r(39),l=u(n),f=u(o),d=u(i),p=u(s),h=u(a),y=c;(n&&"[object DataView]"!=y(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=y(new o)||i&&"[object Promise]"!=y(i.resolve())||s&&"[object Set]"!=y(new s)||a&&"[object WeakMap]"!=y(new a))&&(y=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case p:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=y},function(e,t,r){var n=r(6)(r(0),"DataView");e.exports=n},function(e,t,r){var n=r(21),o=r(73),i=r(2),s=r(39),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,f=u.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?d:a).test(s(e))}},function(e,t,r){var n,o=r(74),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(0)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(6)(r(0),"Promise");e.exports=n},function(e,t,r){var n=r(6)(r(0),"Set");e.exports=n},function(e,t,r){var n=r(6)(r(0),"WeakMap");e.exports=n},function(e,t,r){var n=r(4),o=r(5);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(4),o=r(23),i=r(5),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!s[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(37),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o&&n.process,a=function(){try{var e=i&&i.require&&i.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,r(25)(e))},function(e,t){e.exports=require("stream")},function(e){e.exports=JSON.parse('{"name":"@xdn/core","version":"2.25.0","main":"./index.js","license":"UNLICENSED","scripts":{"docs":"typedoc","build":"rm -rf ./dist; mkdir ./dist; cp -r package.json README.md serverless.yml default-app ./dist; tsc; webpack;","watch":"npm-watch","ts:watch":"tsc --watch","push-build":"npm run build && cd dist && yalc push && cd ..","release":"cd ./dist; npm publish --access public","release:next":"npm run release -- --tag next","test":"jest --watchAll=false"},"dependencies":{"ajv":"^6.12.3","babel-loader":"^8.1.0","chalk":"^2.4.2","content-type":"^1.0.4","cookie":"^0.4.1","cross-spawn":"^7.0.3","decode-uri-component":"^0.2.0","express":"^4.17.1","fs-extra":"^8.1.0","globby":"^11.0.1","http-proxy":"^1.18.1","lodash":"^4.17.19","lru-cache":"^6.0.0","mime-types":"^2.1.27","node-fetch":"^2.6.1","path-to-regexp":"^6.1.0","pino":"^6.5.1","resolve-package-path":"^2.0.0","slash":"^3.0.0","tcp-port-used":"^1.0.1","ts-loader":"^6.2.2","uuid":"^8.3.0","webpack":"^4.44.1","webpack-bundle-analyzer":"^3.9.0","webpack-dev-middleware":"^3.7.2"},"publishConfig":{"directory":"dist"},"watch":{"push-build":{"patterns":["src","bin","serverless.yml","default-app","package.json"],"extensions":["js","ts"],"quiet":false}},"jest":{"clearMocks":true,"collectCoverage":true,"transform":{"^.+\\\\.(js)?$":"babel-jest","^.+\\\\.ts$":"ts-jest"},"moduleFileExtensions":["ts","js","json"],"setupFiles":["<rootDir>/test/jest.js"],"transformIgnorePatterns":["<rootDir>/node_modules/"],"moduleNameMapper":{"../package.json":"<rootDir>/package.json","^@xdn/core(.*)$":"<rootDir>/src/$1"},"collectCoverageFrom":["./src/**/*.{ts,js}","!**/mocks/**","!**/index.ts","!**/plugins/PluginBase.ts","!**/bin/**/*"]},"devDependencies":{"@types/content-type":"^1.1.3","@types/cookie":"^0.3.3","@types/cross-spawn":"^6.0.2","@types/decode-uri-component":"^0.2.0","@types/express":"^4.17.7","@types/fs-extra":"^8.1.1","@types/http-proxy":"^1.17.4","@types/lru-cache":"^5.1.0","@types/mime-types":"^2.1.0","@types/route-parser":"^0.1.3","@types/tcp-port-used":"^1.0.0","@types/uuid":"^8.0.1","@types/webpack":"^4.41.21","@types/webpack-bundle-analyzer":"^3.8.0","@types/webpack-dev-middleware":"^3.7.1"}}')},function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=r(40),c=s(r(87)),u={stdoutWrite:process.stdout.write,stderrWrite:process.stderr.write},l=0,f=null,d=JSON.stringify(c.awsCloudWatchTag).replace("{","").replace("}","");function p(e){return e.indexOf(d)>=0}function h(e,t){var r=e.write;e.write=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return"object"==typeof o&&(o=Buffer.from(o).toString()),o&&!p(o)&&(o=JSON.stringify(n(n({},t),{msg:o}))+"\n"),r.apply(e,i([o],s))}}var y={enable:function(e){var t=void 0===e?{}:e,r=t.clientIp,o=t.requestId;if(a.isCloud()){if(0===l){var i=c.awsCloudWatchTag;r&&(i=n(n({},i),{clientIp:r}),f=r),o&&(i=n(n({},i),{requestId:o})),h(process.stdout,n({level:30},i)),h(process.stderr,n({level:50},i)),c.default.enable({clientIp:r,requestId:o})}else f!==r&&u.stderrWrite.apply(process.stderr,["stdStreamsWrapper with client ip traces cannot be used with concurrent requests"]);l++}},disable:function(){a.isCloud()&&0===--l&&(process.stdout.write=u.stdoutWrite,process.stderr.write=u.stderrWrite,c.default.disable(),f=null)}};t.default=y},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.awsCloudWatchTag={awsTag:"userLogs"};var i=r(13),s=r(88),a={assert:console.assert,debug:console.debug,dir:console.dir,error:console.error,info:console.info,log:console.log,time:console.time,timeEnd:console.timeEnd,timeLog:console.timeLog,trace:console.trace,warn:console.warn},c={};function u(e,t){e.length>=2?t.apply(this,o([e.map((function(e){return"string"==typeof e?"%s":"%j"})).join(" ")],e)):t.apply(this,e)}var l=function(){function e(){}return e._assert=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];e||console.info.apply(console,o(t))},e._dir=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];console.info(i.inspect.apply(i,o(e)))},e._time=function(e){c[e]=Date.now()},e._timeEnd=function(t){e._timeLog(t)},e._timeLog=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(c[e]){var n=Date.now()-c[e];c[e]=Date.now(),console.info.apply(console,o([e+": "+n+"ms"],t))}else console.warn("Warning: No such label '"+e+"' for console.timeEnd()")},e.enable=function(r){var n=void 0===r?{}:r,o=n.clientIp,i=n.requestId;c={};var a=s({base:t.awsCloudWatchTag,timestamp:!1,hooks:{logMethod:u}});o&&(a=a.child({clientIp:o})),i&&(a=a.child({requestId:i})),console.assert=e._assert,console.debug=a.debug.bind(a),console.dir=e._dir,console.error=a.error.bind(a),console.info=a.info.bind(a),console.log=a.info.bind(a),console.time=e._time,console.timeEnd=e._timeEnd,console.timeLog=e._timeLog,console.trace=a.trace.bind(a),console.warn=a.warn.bind(a)},e.disable=function(){console.assert=a.assert,console.debug=a.debug,console.dir=a.dir,console.error=a.error,console.info=a.info,console.log=a.log,console.time=a.time,console.timeEnd=a.timeEnd,console.timeLog=a.timeLog,console.trace=a.trace,console.warn=a.warn},e}();t.default=l},function(e,t,r){"use strict";const n=r(27),o=r(41),i=r(92),s=r(100),a=r(101),c=r(8),{assertDefaultLevelFound:u,mappings:l,genLsCache:f}=r(45),{createArgsNormalizer:d,asChindings:p,final:h,stringify:y,buildSafeSonicBoom:m,buildFormatters:v,noop:b}=r(31),{version:g}=r(46),{chindingsSym:x,redactFmtSym:_,serializersSym:w,timeSym:S,timeSliceIndexSym:j,streamSym:C,stringifySym:O,stringifiersSym:E,setLevelSym:A,endSym:T,formatOptsSym:k,messageKeySym:N,nestedKeySym:P,mixinSym:R,useOnlyCustomLevelsSym:L,formattersSym:F,hooksSym:D}=c,{epochTime:I,nullTime:M}=s,{pid:$}=process,H=n.hostname(),z=o.err,B={level:"info",messageKey:"msg",nestedKey:null,enabled:!0,prettyPrint:!1,base:{pid:$,hostname:H},serializers:Object.assign(Object.create(null),{err:z}),formatters:Object.assign(Object.create(null),{bindings:e=>e,level:(e,t)=>({level:t})}),hooks:{logMethod:void 0},timestamp:I,name:void 0,redact:null,customLevels:null,levelKey:void 0,useOnlyCustomLevels:!1},U=d(B),q=Object.assign(Object.create(null),o);function X(...e){const t={},{opts:r,stream:n}=U(t,...e),{redact:o,crlf:s,serializers:c,timestamp:d,messageKey:h,nestedKey:m,base:g,name:$,level:H,customLevels:z,useLevelLabels:q,changeLevelName:X,levelKey:W,mixin:J,useOnlyCustomLevels:G,formatters:K,hooks:Y}=r,Z=v(K.level,K.bindings,K.log);!q||X||W?!X&&!W||q?(X||W)&&q&&(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),Z.level=function(e){return function(t,r){return{[e]:t}}}(X||W)):(process.emitWarning("changeLevelName and levelKey are deprecated, use the formatters.level option instead","Warning","PINODEP002"),Z.level=function(e){return function(t,r){return{[e]:r}}}(X||W)):(process.emitWarning("useLevelLabels is deprecated, use the formatters.level option instead","Warning","PINODEP001"),Z.level=V),c[Symbol.for("pino.*")]&&(process.emitWarning("The pino.* serializer is deprecated, use the formatters.log options instead","Warning","PINODEP003"),Z.log=c[Symbol.for("pino.*")]),Z.bindings||(Z.bindings=B.formatters.bindings),Z.level||(Z.level=B.formatters.level);const Q=o?i(o,y):{},ee=o?{stringify:Q[_]}:{stringify:y},te="}"+(s?"\r\n":"\n"),re=p.bind(null,{[x]:"",[w]:c,[E]:Q,[O]:y,[F]:Z}),ne=null===g?"":re(void 0===$?g:Object.assign({},g,{name:$})),oe=d instanceof Function?d:d?I:M,ie=oe().indexOf(":")+1;if(G&&!z)throw Error("customLevels is required if useOnlyCustomLevels is set true");if(J&&"function"!=typeof J)throw Error(`Unknown mixin type "${typeof J}" - expected "function"`);u(H,z,G);const se=l(z,G);return Object.assign(t,{levels:se,[L]:G,[C]:n,[S]:oe,[j]:ie,[O]:y,[E]:Q,[T]:te,[k]:ee,[N]:h,[P]:m,[w]:c,[R]:J,[x]:ne,[F]:Z,[D]:Y,silent:b}),Object.setPrototypeOf(t,a()),f(t),t[A](H),t}function V(e,t){return{level:e}}X.extreme=(e=process.stdout.fd)=>(process.emitWarning("The pino.extreme() option is deprecated and will be removed in v7. Use pino.destination({ sync: false }) instead.",{code:"extreme_deprecation"}),m({dest:e,minLength:4096,sync:!1})),X.destination=(e=process.stdout.fd)=>"object"==typeof e?(e.dest=e.dest||process.stdout.fd,m(e)):m({dest:e,minLength:0,sync:!0}),X.final=h,X.levels=l(),X.stdSerializers=q,X.stdTimeFunctions=Object.assign({},s),X.symbols=c,X.version=g,e.exports=X},function(e,t,r){"use strict";e.exports=function e(t){if(!(t instanceof Error))return t;t[n]=void 0;const r=Object.create(i);r.type=t.constructor.name,r.message=t.message,r.stack=t.stack;for(const o in t)if(void 0===r[o]){const i=t[o];i instanceof Error?i.hasOwnProperty(n)||(r[o]=e(i)):r[o]=i}return delete t[n],r.raw=t,r};const n=Symbol("circular-ref-tag"),o=Symbol("pino-raw-err-ref"),i=Object.create({},{type:{enumerable:!0,writable:!0,value:void 0},message:{enumerable:!0,writable:!0,value:void 0},stack:{enumerable:!0,writable:!0,value:void 0},raw:{enumerable:!1,get:function(){return this[o]},set:function(e){this[o]=e}}});Object.defineProperty(i,o,{writable:!0,value:{}})},function(e,t,r){"use strict";e.exports={mapHttpRequest:function(e){return{req:i(e)}},reqSerializer:i};var n=Symbol("pino-raw-req-ref"),o=Object.create({},{id:{enumerable:!0,writable:!0,value:""},method:{enumerable:!0,writable:!0,value:""},url:{enumerable:!0,writable:!0,value:""},headers:{enumerable:!0,writable:!0,value:{}},remoteAddress:{enumerable:!0,writable:!0,value:""},remotePort:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[n]},set:function(e){this[n]=e}}});function i(e){var t=e.info||e.connection;const r=Object.create(o);return r.id="function"==typeof e.id?e.id():e.id||(e.info?e.info.id:void 0),r.method=e.method,e.originalUrl?r.url=e.originalUrl:r.url=e.path||(e.url?e.url.path||e.url:void 0),r.headers=e.headers,r.remoteAddress=t&&t.remoteAddress,r.remotePort=t&&t.remotePort,r.raw=e.raw||e,r}Object.defineProperty(o,n,{writable:!0,value:{}})},function(e,t,r){"use strict";e.exports={mapHttpResponse:function(e){return{res:i(e)}},resSerializer:i};var n=Symbol("pino-raw-res-ref"),o=Object.create({},{statusCode:{enumerable:!0,writable:!0,value:0},headers:{enumerable:!0,writable:!0,value:""},raw:{enumerable:!1,get:function(){return this[n]},set:function(e){this[n]=e}}});function i(e){const t=Object.create(o);return t.statusCode=e.statusCode,t.headers=e.getHeaders?e.getHeaders():e._headers,t.raw=e,t}Object.defineProperty(o,n,{writable:!0,value:{}})},function(e,t,r){"use strict";const n=r(93),{redactFmtSym:o,wildcardFirstSym:i}=r(8),{rx:s,validator:a}=n,c=a({ERR_PATHS_MUST_BE_STRINGS:()=>"pino – redacted paths must be strings",ERR_INVALID_PATH:e=>`pino – redact paths array contains an invalid path (${e})`}),u="[Redacted]";e.exports=function(e,t){const{paths:r,censor:a}=function(e){if(Array.isArray(e))return c(e={paths:e,censor:u}),e;var{paths:t,censor:r=u,remove:n}=e;if(!1===Array.isArray(t))throw Error("pino – redact must contain an array of strings");!0===n&&(r=void 0);return c({paths:t,censor:r}),{paths:t,censor:r}}(e),l=r.reduce((e,t)=>{s.lastIndex=0;const r=s.exec(t),n=s.exec(t);let o=void 0!==r[1]?r[1].replace(/^(?:"|'|`)(.*)(?:"|'|`)$/,"$1"):r[0];if("*"===o&&(o=i),null===n)return e[o]=null,e;if(null===e[o])return e;const{index:a}=n,c=`${t.substr(a,t.length-1)}`;return e[o]=e[o]||[],o!==i&&0===e[o].length&&e[o].push(...e[i]||[]),o===i&&Object.keys(e).forEach((function(t){e[t]&&e[t].push(c)})),e[o].push(c),e},{}),f={[o]:n({paths:r,censor:a,serialize:t,strict:!1})},d=(...e)=>t("function"==typeof a?a(...e):a);return[...Object.keys(l),...Object.getOwnPropertySymbols(l)].reduce((e,r)=>(null===l[r]?e[r]=d:e[r]=n({paths:l[r],censor:a,serialize:t,strict:!1}),e),f)}},function(e,t,r){"use strict";const n=r(94),o=r(96),i=r(97),s=r(98),{groupRedact:a,nestedRedact:c}=r(42),u=r(99),l=r(28),f=n(),d=e=>e;d.restore=d;function p(e={}){const t=Array.from(new Set(e.paths||[])),r="serialize"in e&&(!1===e.serialize||"function"==typeof e.serialize)?e.serialize:JSON.stringify,n=e.remove;if(!0===n&&r!==JSON.stringify)throw Error("fast-redact – remove option may only be set when serializer is JSON.stringify");const l=!0===n?void 0:"censor"in e?e.censor:"[REDACTED]",p="function"==typeof l;if(0===t.length)return r||d;f({paths:t,serialize:r,censor:l});const{wildcards:h,wcLen:y,secret:m}=o({paths:t,censor:l}),v=s({secret:m,wcLen:y}),b=!("strict"in e)||e.strict;return i({secret:m,wcLen:y,serialize:r,strict:b,isCensorFct:p},u({secret:m,censor:l,compileRestore:v,serialize:r,groupRedact:a,nestedRedact:c,wildcards:h,wcLen:y}))}p.rx=l,p.validator=n,e.exports=p},function(e,t,r){"use strict";const{createContext:n,runInContext:o}=r(95);e.exports=function(e={}){const{ERR_PATHS_MUST_BE_STRINGS:t=(()=>"fast-redact - Paths must be strings"),ERR_INVALID_PATH:r=(e=>`fast-redact – Invalid path (${e})`)}=e;return function({paths:e}){e.forEach(e=>{if("string"!=typeof e)throw Error(t());try{if(/〇/.test(e))throw Error();const t=new Proxy({},{get:()=>t,set:()=>{throw Error()}}),r=("["===e[0]?"":".")+e.replace(/^\*/,"〇").replace(/\.\*/g,".〇").replace(/\[\*\]/g,"[〇]");if(/\n|\r|;/.test(r))throw Error();if(/\/\*/.test(r))throw Error();o(`\n          (function () {\n            'use strict'\n            o${r}\n            if ([o${r}].length !== 1) throw Error()\n          })()\n        `,n({o:t,"〇":null}),{codeGeneration:{strings:!1,wasm:!1}})}catch(t){throw Error(r(e))}})}}},function(e,t){e.exports=require("vm")},function(e,t,r){"use strict";const n=r(28);e.exports=function({paths:e}){const t=[];var r=0;const o=e.reduce((function(e,o,i){var s=o.match(n).map(e=>e.replace(/'|"|`/g,""));const a="["===o[0],c=(s=s.map(e=>"["===e[0]?e.substr(1,e.length-2):e)).indexOf("*");if(c>-1){const e=s.slice(0,c),n=e.join("."),o=s.slice(c+1,s.length);if(o.indexOf("*")>-1)throw Error("fast-redact – Only one wildcard per path is supported");const i=o.length>0;r++,t.push({before:e,beforeStr:n,after:o,nested:i})}else e[o]={path:s,val:void 0,precensored:!1,circle:"",escPath:JSON.stringify(o),leadingBracket:a};return e}),{});return{wildcards:t,wcLen:r,secret:o}}},function(e,t,r){"use strict";const n=r(28);e.exports=function({secret:e,serialize:t,wcLen:r,strict:o,isCensorFct:i},s){const a=Function("o",`\n    if (typeof o !== 'object' || o == null) {\n      ${function(e,t){return!0===e?"throw Error('fast-redact: primitives cannot be redacted')":!1===t?"return o":"return this.serialize(o)"}(o,t)}\n    }\n    const { censor, secret } = this\n    ${function(e,t){return Object.keys(e).map(r=>{const{escPath:o,leadingBracket:i}=e[r],s=i?1:0,a=i?"":".",c=[];for(var u;null!==(u=n.exec(r));){const[,e]=u,{index:t,input:r}=u;t>s&&c.push(r.substring(0,t-(e?0:1)))}var l=c.map(e=>`o${a}${e}`).join(" && ");0===l.length?l+=`o${a}${r} != null`:l+=` && o${a}${r} != null`;const f=`\n      switch (true) {\n        ${c.reverse().map(e=>`\n          case o${a}${e} === censor:\n            secret[${o}].circle = ${JSON.stringify(e)}\n            break\n        `).join("\n")}\n      }\n    `;return`\n      if (${l}) {\n        const val = o${a}${r}\n        if (val === censor) {\n          secret[${o}].precensored = true\n        } else {\n          secret[${o}].val = val\n          o${a}${r} = ${t?"censor(val)":"censor"}\n          ${f}\n        }\n      }\n    `}).join("\n")}(e,i)}\n    this.compileRestore()\n    ${function(e,t){return!0===e?`\n    {\n      const { wildcards, wcLen, groupRedact, nestedRedact } = this\n      for (var i = 0; i < wcLen; i++) {\n        const { before, beforeStr, after, nested } = wildcards[i]\n        if (nested === true) {\n          secret[beforeStr] = secret[beforeStr] || []\n          nestedRedact(secret[beforeStr], o, before, after, censor, ${t})\n        } else secret[beforeStr] = groupRedact(o, before, censor, ${t})\n      }\n    }\n  `:""}(r>0,i)}\n    ${function(e){return!1===e?"return o":"\n    var s = this.serialize(o)\n    this.restore(o)\n    return s\n  "}(t)}\n  `).bind(s);!1===t&&(a.restore=e=>s.restore(e));return a}},function(e,t,r){"use strict";const{groupRestore:n,nestedRestore:o}=r(42);e.exports=function({secret:e,wcLen:t}){return function(){if(this.restore)return;const r=Object.keys(e).filter(t=>!1===e[t].precensored),i=function(e,t){return t.map(t=>{const{circle:r,escPath:n,leadingBracket:o}=e[t];return`\n      if (secret[${n}].val !== undefined) {\n        try { ${r?`o.${r} = secret[${n}].val`:`o${o?"":"."}${t} = secret[${n}].val`} } catch (e) {}\n        ${`secret[${n}].val = undefined`}\n      }\n    `}).join("")}(e,r),s=t>0,a=s?{secret:e,groupRestore:n,nestedRestore:o}:{secret:e};this.restore=Function("o",function(e,t,r){const n=!0===r?`\n    const keys = Object.keys(secret)\n    const len = keys.length\n    for (var i = ${t.length}; i < len; i++) {\n      const k = keys[i]\n      const o = secret[k]\n      if (o.flat === true) this.groupRestore(o)\n      else this.nestedRestore(o)\n      secret[k] = null\n    }\n  `:"";return`\n    const secret = this.secret\n    ${e}\n    ${n}\n    return o\n  `}(i,r,s)).bind(a)}}},function(e,t,r){"use strict";e.exports=function(e){const{secret:t,censor:r,isCensorFct:n,compileRestore:o,serialize:i,groupRedact:s,nestedRedact:a,wildcards:c,wcLen:u}=e,l=[{secret:t,censor:r,isCensorFct:n,compileRestore:o}];l.push({secret:t}),!1!==i&&l.push({serialize:i});u>0&&l.push({groupRedact:s,nestedRedact:a,wildcards:c,wcLen:u});return Object.assign(...l)}},function(e,t,r){"use strict";e.exports={nullTime:()=>"",epochTime:()=>`,"time":${Date.now()}`,unixTime:()=>`,"time":${Math.round(Date.now()/1e3)}`,isoTime:()=>`,"time":"${new Date(Date.now()).toISOString()}"`}},function(e,t,r){"use strict";const{EventEmitter:n}=r(43),o=r(44),i=r(30),{lsCacheSym:s,levelValSym:a,setLevelSym:c,getLevelSym:u,chindingsSym:l,parsedChindingsSym:f,mixinSym:d,asJsonSym:p,writeSym:h,timeSym:y,timeSliceIndexSym:m,streamSym:v,serializersSym:b,formattersSym:g,useOnlyCustomLevelsSym:x,needsMetadataGsym:_}=r(8),{getLevel:w,setLevel:S,isLevelEnabled:j,mappings:C,initialLsCache:O,genLsCache:E,assertNoLevelCollisions:A}=r(45),{asChindings:T,asJson:k,buildFormatters:N}=r(31),{version:P}=r(46),R={constructor:class{},child:function(e){if(!e)throw Error("missing bindings for child Pino");const t=this[b],r=this[g],n=Object.create(this);if(!0===e.hasOwnProperty("serializers")){for(var o in n[b]=Object.create(null),t)n[b][o]=t[o];const r=Object.getOwnPropertySymbols(t);for(var i=0;i<r.length;i++){const e=r[i];n[b][e]=t[e]}for(var s in e.serializers)n[b][s]=e.serializers[s];const c=Object.getOwnPropertySymbols(e.serializers);for(var a=0;a<c.length;a++){const t=c[a];n[b][t]=e.serializers[t]}}else n[b]=t;if(e.hasOwnProperty("formatters")){const{level:t,bindings:o,log:i}=e.formatters;n[g]=N(t||r.level,o||L,i||r.log)}else n[g]=N(r.level,L,r.log);!0===e.hasOwnProperty("customLevels")&&(A(this.levels,e.customLevels),n.levels=C(e.customLevels,n[x]),E(n));n[l]=T(n,e);const u=e.level||this.level;return n[c](u),n},bindings:function(){var e=`{${this[l].substr(1)}}`,t=JSON.parse(e);return delete t.pid,delete t.hostname,t},setBindings:function(e){const t=T(this,e);this[l]=t,delete this[f]},flush:function(){const e=this[v];"flush"in e&&e.flush()},isLevelEnabled:j,version:P,get level(){return this[u]()},set level(e){this[c](e)},get levelVal(){return this[a]},set levelVal(e){throw Error("levelVal is read-only")},[s]:O,[h]:function(e,t,r){const n=this[y](),s=this[d],a=e instanceof Error;var c;null==e?c=s?s():{}:(c=Object.assign(s?s():{},e),!t&&a&&(t=e.message),a&&(c.stack=e.stack,c.type||(c.type="Error")));const u=this[p](c,t,r,n),l=this[v];!0===l[_]&&(l.lastLevel=r,l.lastObj=c,l.lastMsg=t,l.lastTime=n.slice(this[m]),l.lastLogger=this);l instanceof o?l.write(u):l.write(i(u))},[p]:k,[u]:w,[c]:S};Object.setPrototypeOf(R,n.prototype),e.exports=function(){return Object.create(R)};const L=e=>e},function(e,t,r){"use strict";if("undefined"!=typeof SharedArrayBuffer&&"undefined"!=typeof Atomics){const t=new Int32Array(new SharedArrayBuffer(4));function n(e){if(!1===(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}Atomics.wait(t,0,0,Number(e))}e.exports=n}else{function n(e){if(!1===(e>0&&e<1/0)){if("number"!=typeof e&&"bigint"!=typeof e)throw TypeError("sleep: ms must be a number");throw RangeError("sleep: ms must be a number that is greater than 0 but less than Infinity")}const t=Date.now()+Number(e);for(;t>Date.now(););}e.exports=n}},function(e,t,r){"use strict";function n(e){try{return JSON.stringify(e)}catch(e){return'"[Circular]"'}}e.exports=function(e,t,r){var o=r&&r.stringify||n;if("object"==typeof e&&null!==e){var i=t.length+1;if(1===i)return e;var s=new Array(i);s[0]=o(e);for(var a=1;a<i;a++)s[a]=o(t[a]);return s.join(" ")}if("string"!=typeof e)return e;var c=t.length;if(0===c)return e;for(var u="",l=0,f=-1,d=e&&e.length||0,p=0;p<d;){if(37===e.charCodeAt(p)&&p+1<d){switch(f=f>-1?f:0,e.charCodeAt(p+1)){case 100:if(l>=c)break;if(f<p&&(u+=e.slice(f,p)),null==t[l])break;u+=Number(t[l]),f=p+=2;break;case 79:case 111:case 106:if(l>=c)break;if(f<p&&(u+=e.slice(f,p)),void 0===t[l])break;var h=typeof t[l];if("string"===h){u+="'"+t[l]+"'",f=p+2,p++;break}if("function"===h){u+=t[l].name||"<anonymous>",f=p+2,p++;break}u+=o(t[l]),f=p+2,p++;break;case 115:if(l>=c)break;f<p&&(u+=e.slice(f,p)),u+=String(t[l]),f=p+2,p++;break;case 37:f<p&&(u+=e.slice(f,p)),u+="%",f=p+2,p++}++l}++p}if(-1===f)return e;f<d&&(u+=e.slice(f));return u}},function(e,t){e.exports=o,o.default=o,o.stable=s,o.stableStringify=s;var r=[],n=[];function o(e,t,o){var i;for(!function e(t,o,i,s){var a;if("object"==typeof t&&null!==t){for(a=0;a<i.length;a++)if(i[a]===t){var c=Object.getOwnPropertyDescriptor(s,o);return void(void 0!==c.get?c.configurable?(Object.defineProperty(s,o,{value:"[Circular]"}),r.push([s,o,t,c])):n.push([t,o]):(s[o]="[Circular]",r.push([s,o,t])))}if(i.push(t),Array.isArray(t))for(a=0;a<t.length;a++)e(t[a],a,i,t);else{var u=Object.keys(t);for(a=0;a<u.length;a++){var l=u[a];e(t[l],l,i,t)}}i.pop()}}(e,"",[],void 0),i=0===n.length?JSON.stringify(e,t,o):JSON.stringify(e,a(t),o);0!==r.length;){var s=r.pop();4===s.length?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}return i}function i(e,t){return e<t?-1:e>t?1:0}function s(e,t,o){var s,c=function e(t,o,s,a){var c;if("object"==typeof t&&null!==t){for(c=0;c<s.length;c++)if(s[c]===t){var u=Object.getOwnPropertyDescriptor(a,o);return void(void 0!==u.get?u.configurable?(Object.defineProperty(a,o,{value:"[Circular]"}),r.push([a,o,t,u])):n.push([t,o]):(a[o]="[Circular]",r.push([a,o,t])))}if("function"==typeof t.toJSON)return;if(s.push(t),Array.isArray(t))for(c=0;c<t.length;c++)e(t[c],c,s,t);else{var l={},f=Object.keys(t).sort(i);for(c=0;c<f.length;c++){var d=f[c];e(t[d],d,s,t),l[d]=t[d]}if(void 0===a)return l;r.push([a,o,t]),a[o]=l}s.pop()}}(e,"",[],void 0)||e;for(s=0===n.length?JSON.stringify(c,t,o):JSON.stringify(c,a(t),o);0!==r.length;){var u=r.pop();4===u.length?Object.defineProperty(u[0],u[1],u[3]):u[0][u[1]]=u[2]}return s}function a(e){return e=void 0!==e?e:function(e,t){return t},function(t,r){if(n.length>0)for(var o=0;o<n.length;o++){var i=n[o];if(i[1]===t&&i[0]===r){r="[Circular]",n.splice(o,1);break}}return e.call(this,t,r)}}},function(e){e.exports=JSON.parse('{"name":"pino","version":"6.5.1","description":"super fast, all natural json logger","main":"pino.js","browser":"./browser.js","files":["pino.js","bin.js","browser.js","pretty.js","usage.txt","test","docs","example.js","lib"],"scripts":{"docs":"docsify serve","browser-test":"airtap --local 8080 test/browser*test.js","test":"standard | snazzy && tap --100 test/*test.js","cov-ui":"tap --coverage-report=html test/*test.js","bench":"node benchmarks/utils/runbench all","bench-basic":"node benchmarks/utils/runbench basic","bench-object":"node benchmarks/utils/runbench object","bench-deep-object":"node benchmarks/utils/runbench deep-object","bench-multi-arg":"node benchmarks/utils/runbench multi-arg","bench-longs-tring":"node benchmarks/utils/runbench long-string","bench-child":"node benchmarks/utils/runbench child","bench-child-child":"node benchmarks/utils/runbench child-child","bench-child-creation":"node benchmarks/utils/runbench child-creation","bench-formatters":"node benchmarks/utils/runbench formatters","update-bench-doc":"node benchmarks/utils/generate-benchmark-doc > docs/benchmarks.md"},"bin":{"pino":"./bin.js"},"precommit":"test","repository":{"type":"git","url":"git+https://github.com/pinojs/pino.git"},"keywords":["fast","logger","stream","json"],"author":"Matteo Collina <hello@matteocollina.com>","contributors":["David Mark Clements <huperekchuno@googlemail.com>","James Sumners <james.sumners@gmail.com>","Thomas Watson Steen <w@tson.dk> (https://twitter.com/wa7son)"],"license":"MIT","bugs":{"url":"https://github.com/pinojs/pino/issues"},"homepage":"http://getpino.io","devDependencies":{"airtap":"3.0.0","benchmark":"^2.1.4","bole":"^4.0.0","bunyan":"^1.8.14","docsify-cli":"^4.4.1","execa":"^4.0.0","fastbench":"^1.0.1","flush-write-stream":"^2.0.0","import-fresh":"^3.2.1","log":"^6.0.0","loglevel":"^1.6.7","pino-pretty":"^4.1.0","pre-commit":"^1.2.2","proxyquire":"^2.1.3","pump":"^3.0.0","semver":"^7.0.0","snazzy":"^8.0.0","split2":"^3.1.1","standard":"^14.3.3","steed":"^1.1.3","strip-ansi":"^6.0.0","tap":"^14.10.8","tape":"^5.0.0","through2":"^4.0.0","winston":"^3.3.3"},"dependencies":{"fast-redact":"^2.0.0","fast-safe-stringify":"^2.0.7","flatstr":"^1.0.12","pino-std-serializers":"^2.4.2","quick-format-unescaped":"^4.0.1","sonic-boom":"^1.0.2"},"_resolved":"https://registry.npmjs.org/pino/-/pino-6.5.1.tgz","_integrity":"sha512-76+RUhQkqjUD4AtQcSfEzh6vlsjXmoWZK5gg+2d70aCLXZTbo4/5js4I9rN1Xk6z1h2/7pnOFX10G4c2T4qNiA==","_from":"pino@6.5.1"}')},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(107)),i=n(r(133)),s=n(r(50)),a=n(r(137)),c=r(29),u=r(36),l=r(3),f=n(r(172)),d=n(r(174)),p=n(r(9));t.DEFAULTS={production:!0,backends:{},routes:"routes.js",includeNodeModules:!1};var h=function(){function e(){}return e.prototype.get=function(e,t){if(this.has(e))return o.default(this.config,e);if(void 0!==t)return t;throw new Error('XDN configuration key: "'+e+'" is not defined')},e.prototype.getServer=function(){if(!this.server){var e=this.get("server",null);this.server=d.default(e)}return this.server},e.prototype.defaultTo=function(e,t){this.has(e)||i.default(this.config,e,t)},e.prototype.has=function(e){return this.config||this.loadXdnConfig(),s.default(this.config,e)},e.prototype.loadXdnConfig=function(){var e=this._loadFromFile(),r=this._loadFromEnv();this.config=a.default({},t.DEFAULTS,e,r)},e.prototype._loadFromFile=function(){var e=u.join(process.cwd(),l.XDN_CONFIG_FILE);if(c.existsSync(e))try{var t=p.default(e);return f.default.validateXdnFileConfiguration(t)}catch(t){throw new Error("Failed to load "+e+": "+t.message)}return{}},e.prototype._loadFromEnv=function(){if(process.env[l.XDN_ENV_VARIABLES.config])try{return JSON.parse(process.env[l.XDN_ENV_VARIABLES.config])}catch(e){throw new Error("XDN configuration variable: "+l.XDN_ENV_VARIABLES.config+", is not parsable as json")}return{}},e}();t.default=new h},function(e,t,r){var n=r(108);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},function(e,t,r){var n=r(32),o=r(34);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},function(e,t,r){var n=r(1),o=r(33),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(s.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,r){var n=r(111),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=s},function(e,t,r){var n=r(112);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},function(e,t,r){var n=r(47);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var s=e.apply(this,n);return r.cache=i.set(o,s)||i,s};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(114),o=r(15),i=r(22);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(e,t,r){var n=r(115),o=r(116),i=r(117),s=r(118),a=r(119);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=s,c.prototype.set=a,e.exports=c},function(e,t,r){var n=r(14);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(14),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(14),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},function(e,t,r){var n=r(14);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(16),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},function(e,t,r){var n=r(16);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(16);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(16);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},function(e,t,r){var n=r(18);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(18);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(18);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(18);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},function(e,t,r){var n=r(131);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(20),o=r(132),i=r(1),s=r(33),a=n?n.prototype:void 0,c=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(s(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){var n=r(134);e.exports=function(e,t,r){return null==e?e:n(e,t,r)}},function(e,t,r){var n=r(48),o=r(32),i=r(19),s=r(2),a=r(34);e.exports=function(e,t,r,c){if(!s(e))return e;for(var u=-1,l=(t=o(t,e)).length,f=l-1,d=e;null!=d&&++u<l;){var p=a(t[u]),h=r;if(u!=f){var y=d[p];void 0===(h=c?c(y,p,d):void 0)&&(h=s(y)?y:i(t[u+1])?[]:{})}n(d,p,h),d=d[p]}return e}},function(e,t){var r=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&r.call(e,t)}},function(e,t,r){var n=r(32),o=r(11),i=r(1),s=r(19),a=r(23),c=r(34);e.exports=function(e,t,r){for(var u=-1,l=(t=n(t,e)).length,f=!1;++u<l;){var d=c(t[u]);if(!(f=null!=e&&r(e,d)))break;e=e[d]}return f||++u!=l?f:!!(l=null==e?0:e.length)&&a(l)&&s(d,l)&&(i(e)||o(e))}},function(e,t,r){var n=r(138),o=r(163)((function(e,t,r){n(e,t,r)}));e.exports=o},function(e,t,r){var n=r(139),o=r(51),i=r(145),s=r(147),a=r(2),c=r(54),u=r(53);e.exports=function e(t,r,l,f,d){t!==r&&i(r,(function(i,c){if(d||(d=new n),a(i))s(t,r,c,l,e,f,d);else{var p=f?f(u(t,c),i,c+"",t,r,d):void 0;void 0===p&&(p=i),o(t,c,p)}}),c)}},function(e,t,r){var n=r(15),o=r(140),i=r(141),s=r(142),a=r(143),c=r(144);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=s,u.prototype.has=a,u.prototype.set=c,e.exports=u},function(e,t,r){var n=r(15);e.exports=function(){this.__data__=new n,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,r){var n=r(15),o=r(22),i=r(47);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var s=r.__data__;if(!o||s.length<199)return s.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(s)}return r.set(e,t),this.size=r.size,this}},function(e,t,r){var n=r(146)();e.exports=n},function(e,t){e.exports=function(e){return function(t,r,n){for(var o=-1,i=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++o];if(!1===r(i[c],c,i))break}return t}}},function(e,t,r){var n=r(51),o=r(148),i=r(149),s=r(152),a=r(153),c=r(11),u=r(1),l=r(155),f=r(24),d=r(21),p=r(2),h=r(156),y=r(26),m=r(53),v=r(157);e.exports=function(e,t,r,b,g,x,_){var w=m(e,r),S=m(t,r),j=_.get(S);if(j)n(e,r,j);else{var C=x?x(w,S,r+"",e,t,_):void 0,O=void 0===C;if(O){var E=u(S),A=!E&&f(S),T=!E&&!A&&y(S);C=S,E||A||T?u(w)?C=w:l(w)?C=s(w):A?(O=!1,C=o(S,!0)):T?(O=!1,C=i(S,!0)):C=[]:h(S)||c(S)?(C=w,c(w)?C=v(w):p(w)&&!d(w)||(C=a(S))):O=!1}O&&(_.set(S,C),g(C,S,b,x,_),_.delete(S)),n(e,r,C)}}},function(e,t,r){(function(e){var n=r(0),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=i&&i.exports===o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}).call(this,r(25)(e))},function(e,t,r){var n=r(150);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},function(e,t,r){var n=r(151);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},function(e,t,r){var n=r(0).Uint8Array;e.exports=n},function(e,t){e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},function(e,t,r){var n=r(154),o=r(52),i=r(10);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},function(e,t,r){var n=r(2),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},function(e,t,r){var n=r(12),o=r(5);e.exports=function(e){return o(e)&&n(e)}},function(e,t,r){var n=r(4),o=r(52),i=r(5),s=Function.prototype,a=Object.prototype,c=s.toString,u=a.hasOwnProperty,l=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==l}},function(e,t,r){var n=r(158),o=r(54);e.exports=function(e){return n(e,o(e))}},function(e,t,r){var n=r(48),o=r(35);e.exports=function(e,t,r,i){var s=!r;r||(r={});for(var a=-1,c=t.length;++a<c;){var u=t[a],l=i?i(r[u],e[u],u,r,e):void 0;void 0===l&&(l=e[u]),s?o(r,u,l):n(r,u,l)}return r}},function(e,t,r){var n=r(160),o=r(11),i=r(1),s=r(24),a=r(19),c=r(26),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),l=!r&&o(e),f=!r&&!l&&s(e),d=!r&&!l&&!f&&c(e),p=r||l||f||d,h=p?n(e.length,String):[],y=h.length;for(var m in e)!t&&!u.call(e,m)||p&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||a(m,y))||h.push(m);return h}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t,r){var n=r(2),o=r(10),i=r(162),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&r.push(a);return r}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},function(e,t,r){var n=r(164),o=r(171);e.exports=function(e){return n((function(t,r){var n=-1,i=r.length,s=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(s=e.length>3&&"function"==typeof s?(i--,s):void 0,a&&o(r[0],r[1],a)&&(s=i<3?void 0:s,i=1),t=Object(t);++n<i;){var c=r[n];c&&e(t,c,n,s)}return t}))}},function(e,t,r){var n=r(55),o=r(165),i=r(167);e.exports=function(e,t){return i(o(e,t,n),e+"")}},function(e,t,r){var n=r(166),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,s=-1,a=o(i.length-t,0),c=Array(a);++s<a;)c[s]=i[t+s];s=-1;for(var u=Array(t+1);++s<t;)u[s]=i[s];return u[t]=r(c),n(e,this,u)}}},function(e,t){e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},function(e,t,r){var n=r(168),o=r(170)(n);e.exports=o},function(e,t,r){var n=r(169),o=r(49),i=r(55),s=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=s},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var r=Date.now;e.exports=function(e){var t=0,n=0;return function(){var o=r(),i=16-(o-n);if(n=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,r){var n=r(17),o=r(12),i=r(19),s=r(2);e.exports=function(e,t,r){if(!s(r))return!1;var a=typeof t;return!!("number"==a?o(r)&&i(t,r.length):"string"==a&&t in r)&&n(r[t],e)}},function(e,t,r){"use strict";var n=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(n(arguments[t]));return e},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(r(50)),a=r(27),c=r(3),u=r(40),l=i(r(9)),f={$id:"/domainOrIpSchema",type:"string"},d={$id:"/backendObjectSchema",type:"object",properties:{domainOrIp:{$ref:f.$id},port:{type:"number",minimum:1,maximum:65535},hostHeader:{type:"string"},disableCheckCert:{type:"boolean"},firstByteTimeout:{type:"number"},basePath:{type:"string"}},additionalProperties:!1,required:["domainOrIp"]},p={$id:"/backendSchema",type:"object",patternProperties:{"^.*$":{oneOf:[{$ref:f.$id},{$ref:d.$id}]}}},h={$id:"/xdnFileConfigurationSchema",type:"object",properties:{prerenderConcurrency:{type:"number"},production:{type:"boolean"},routes:{type:"string"},server:{type:"object",required:["path"],properties:{path:{type:"string"},export:{type:"string"}}},includeFiles:{type:"object"},backends:{$ref:p.$id},includeNodeModules:{type:"boolean"}},additionalProperties:!1,required:[]},y=function(){function e(){}return e.validateXdnFileConfiguration=function(e){if(u.isCloud())return e;var t=[],r=new(l.default("ajv"))({allErrors:!0,schemas:[h,p,d,f]}).getSchema(h.$id);if(s.default(e,"backends.moov")&&t.push({message:"is a reserved backend name",dataPath:".backends['moov']"}),s.default(e,"backends."+c.BACKENDS.static)&&t.push({message:"is a reserved backend name",dataPath:".backends."+c.BACKENDS.static}),s.default(e,"backends."+c.BACKENDS.js)&&t.push({message:"is a reserved backend name",dataPath:".backends."+c.BACKENDS.js}),!r(e)&&r.errors&&(t=o(t,r.errors)),t.length){var n=t.map((function(e,t){var r=t+1+") config"+e.dataPath+": "+e.message;return"additionalProperties"===e.keyword&&(r+=" '"+e.params.additionalProperty+"'"),r})).join(a.EOL);throw new Error("XDN configuration validation failed with errors: "+a.EOL+n)}return e},e}();t.default=y},function(e,t,r){"use strict";e.exports=e=>{const t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(29),i=r(36),s=r(3),a=r(175),c=n(r(9));t.default=function(e){var t=e;t||(t={path:a.pathForBackend(s.BACKENDS.js)});var r=i.join(process.cwd(),t.path);if(o.existsSync(r)){var n=c.default(r);return t.export?n=n[t.export]():n.default&&(n=n.default),n}if(e)throw new Error("Server not found at "+e.path+". Please check the server.path property of xdn.config.js.")}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(36);t.XDN_DIR=".xdn",t.JS_DIR=n.join(t.XDN_DIR,"lambda"),t.ASSETS_DIR=n.join(t.XDN_DIR,"s3"),t.SOURCES_DIR=n.join(t.XDN_DIR,"src"),t.ROUTES_FILE_NAME="routes.js",t.pathForBackend=function(e){return n.join("__backends__",e+".js")}},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(r(9));t.default=function(e){return"string"==typeof e&&(e=o.default(e)),e.default&&(e=e.default),"function"==typeof e&&(e=e()),e}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var a=r(3);global.__xdn_user_timings__||(global.__xdn_user_timings__=[],global.__xdn_internal_timings__=[]);var c=global.__xdn_user_timings__,u=global.__xdn_internal_timings__;t.NOT_ENDED_VALUE="na";var l=function(){function e(e,t){void 0===t&&(t=!0),this.duration=0,this.ended=!1,this.name=e,(t?u:c).push(this)}return e.prototype.start=function(){return this.startTime=new Date,this.ended=!1,this},e.prototype.end=function(){return this.startTime?(this.ended=!0,this.duration+=(new Date).getTime()-this.startTime.getTime(),this):(console.warn("Timing "+this.name+" not started."),this)},e.prototype.pause=function(){return this.end()},e.prototype.resume=function(){return this.start()},Object.defineProperty(e.prototype,"value",{get:function(){return this.ended?this.duration:t.NOT_ENDED_VALUE},enumerable:!0,configurable:!0}),e}();function f(e){return e.map((function(e){return e.name+"="+e.value})).join(",")}t.InternalTiming=l,t.resetTimings=function(){c.length=0,u.length=0},t.addTimings=function(e){c.length&&(e.setHeader(a.HTTP_HEADERS.xXdnUserT,f(c)),e.setHeader(a.HTTP_HEADERS.serverTiming,function(e){var t=e.getHeader(a.HTTP_HEADERS.serverTiming),r=c.map((function(e){return e.name+";dur="+e.value}));Array.isArray(t)?r.push.apply(r,s(t)):t&&r.push(t);return r.join(", ")}(e))),u.length&&e.setHeader(a.HTTP_HEADERS.xXdnT,f(u))};var d=function(e){function t(t){return e.call(this,t,!1)||this}return o(t,e),t}(l);t.default=d},function(e,t,r){"use strict";t.check=u,t.waitUntilFreeOnHost=function(e,t,r,o){var i;n.obj(e)?(i=e).inUse=!1:i=c(e,t,!1,r,o);return l(i)},t.waitUntilFree=function(e,t,r){var o;n.obj(e)?((o=e).host="127.0.0.1",o.inUse=!1):o=c(e,"127.0.0.1",!1,t,r);return l(o)},t.waitUntilUsedOnHost=f,t.waitUntilUsed=function(e,t,r){var o;n.obj(e)?((o=e).host="127.0.0.1",o.inUse=!0):o=c(e,"127.0.0.1",!0,t,r);return f(o)},t.waitForStatus=l;var n=r(179),o=r(184),i=r(13),s=r(185)("tcp-port-used");function a(){var e,t,r=new Promise((function(r,n){e=r,t=n}));return{resolve:e,reject:t,promise:r}}function c(e,t,r,n,o){var i={};return i.port=e,i.host=t,i.inUse=r,i.retryTimeMs=n,i.timeOutMs=o,i}function u(e,t){var r,u,l=a(),f=!0;if(u=n.obj(e)?e:c(e,t),!n.port(u.port))return s("Error invalid port: "+i.inspect(u.port)),l.reject(new Error("invalid port: "+i.inspect(u.port))),l.promise;function d(){r&&(r.removeAllListeners("connect"),r.removeAllListeners("error"),r.end(),r.destroy(),r.unref())}return n.nullOrUndefined(u.host)&&(s("set host address to default 127.0.0.1"),u.host="127.0.0.1"),(r=new o.Socket).once("connect",(function(){l.resolve(f),d()})),r.once("error",(function(e){"ECONNREFUSED"!==e.code?l.reject(e):(f=!1,l.resolve(f)),d()})),r.connect({port:u.port,host:u.host},(function(){})),l.promise}function l(e,t,r,o,i){var l,f,d,p=a(),h=!1;if(d=n.obj(e)?e:c(e,t,r,o,i),!n.bool(d.inUse))return p.reject(new Error("inUse must be a boolean")),p.promise;function y(){l&&clearTimeout(l),f&&clearTimeout(f)}return n.positiveInt(d.retryTimeMs)||(d.retryTimeMs=250,s("set retryTime to default 250ms")),n.positiveInt(d.timeOutMs)||(d.timeOutMs=2e3,s("set timeOutMs to default 2000ms")),l=setTimeout((function(){h=!0,y(),p.reject(new Error("timeout"))}),d.timeOutMs),function e(){u(d.port,d.host).then((function(t){if(!h)return t===d.inUse?(p.resolve(),void y()):void(f=setTimeout((function(){e()}),d.retryTimeMs))}),(function(e){h||(p.reject(e),y())}))}(),p.promise}function f(e,t,r,o){var i;return n.obj(e)?(i=e).inUse=!0:i=c(e,t,!0,r,o),l(i)}},function(e,t,r){"use strict";const n={}.hasOwnProperty,o={}.toString,i=t,s=r(180),a=r(181);i.version=r(182).version,i.browser=function(){return!i.node()&&"undefined"!=typeof window&&"[object global]"===o.call(window)},i.defined=function(e){return void 0!==e},i.def=i.defined,i.nodejs=function(){return process&&process.hasOwnProperty("version")&&process.hasOwnProperty("versions")},i.node=i.nodejs,i.undefined=function(e){return void 0===e},i.udef=i.undef=i.undefined,i.array=function(e){return"[object Array]"===o.call(e)},i.arr=i.ary=i.arry=i.array,i.arrayLike=function(e){return!i.nullOrUndef(e)&&(void 0!==e&&n.call(e,"length")&&isFinite(e.length))},i.arrLike=i.arryLike=i.aryLike=i.arraylike=i.arrayLike,i.arguments=function(e){return"[object Arguments]"===o.call(e)},i.args=i.arguments,i.boolean=function(e){return"[object Boolean]"===o.call(e)},i.bool=i.boolean,i.buffer=function(e){return i.nodejs()&&Buffer&&Buffer.hasOwnProperty("isBuffer")&&Buffer.isBuffer(e)},i.buff=i.buf=i.buffer,i.date=function(e){return"[object Date]"===o.call(e)},i.error=function(e){return"[object Error]"===o.call(e)},i.err=i.error,i.false=function(e){return!1===e},i.function=function(e){return i.syncFunction(e)||i.asyncFunction(e)},i.fun=i.func=i.function,i.asyncFunction=function(e){return"[object AsyncFunction]"===o.call(e)},i.asyncFun=i.asyncFunc=i.asyncFunction,i.syncFunction=function(e){return"[object Function]"===o.call(e)},i.syncFun=i.syncFunc=i.syncFunction,i.null=function(e){return null===e},i.nullOrUndefined=function(e){return null==e},i.nullOrUndef=i.nullOrUndefined,i.number=function(e){return"[object Number]"===o.call(e)},i.num=i.number,i.object=function(e){return"[object Object]"===o.call(e)},i.obj=i.object,i.regExp=function(e){return"[object RegExp]"===o.call(e)},i.re=i.regexp=i.regExp,i.string=function(e){return"[object String]"===o.call(e)},i.str=i.string,i.true=function(e){return!0===e};var c=new RegExp("[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}","i");i.uuid=function(e){return c.test(e)},i.equal=function(e,t){var r=o.call(e);return typeof e==typeof t&&(r===o.call(t)&&("[object Object]"===r||"[object Array]"===r?s(e,t):"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r?e.getTime()===t.getTime():e===t))},i.objEquals=i.eq=i.equal;var u={boolean:1,number:1,string:1,undefined:1};i.hosted=function(e,t){if(i.nullOrUndef(e))return!1;var r=typeof t[e];return"object"===r?!!t[e]:!u[r]},i.instanceOf=function(e,t){return!i.nullOrUndef(e)&&!i.nullOrUndef(t)&&e instanceof t},i.instOf=i.instanceof=i.instanceOf,i.objectInstanceOf=function(e,t){try{return"[object Object]"===o.call(e)&&e instanceof t}catch(e){return!1}},i.instOf=i.instanceOf=i.objInstOf=i.objectInstanceOf,i.type=function(e,t){return typeof e===t},i.a=i.type,i.empty=function(e){var t=o.call(e);if("[object Array]"===t||"[object Arguments]"===t)return 0===e.length;if("[object Object]"===t){for(var r in e)if(n.call(e,r))return!1;return!0}return"[object String]"===t&&""===e},i.emptyArguments=function(e){return"[object Arguments]"===o.call(e)&&0===e.length},i.noArgs=i.emptyArgs=i.emptyArguments,i.emptyArray=function(e){return"[object Array]"===o.call(e)&&0===e.length},i.emptyArry=i.emptyAry=i.emptyArray,i.emptyArrayLike=function(e){return 0===e.length},i.emptyArrLike=i.emptyArrayLike,i.emptyString=function(e){return i.string(e)&&0===e.length},i.emptyStr=i.emptyString,i.nonEmptyArray=function(e){return"[object Array]"===o.call(e)&&e.length>0},i.nonEmptyArr=i.nonEmptyArry=i.nonEmptyAry=i.nonEmptyArray,i.nonEmptyObject=function(e){return"[object Object]"===o.call(e)&&Object.keys(e).length>0},i.nonEmptyObj=i.nonEmptyObject,i.emptyObject=function(e){return"[object Object]"===o.call(e)&&0===Object.keys(e).length},i.emptyObj=i.emptyObject,i.nonEmptyString=function(e){return i.string(e)&&e.length>0},i.nonEmptyStr=i.nonEmptyString,i.even=function(e){return"[object Number]"===o.call(e)&&e%2==0},i.decimal=function(e){return"[object Number]"===o.call(e)&&e%1!=0},i.dec=i.decNum=i.decimal,i.integer=function(e){return"[object Number]"===o.call(e)&&e%1==0},i.int=i.integer,i.notANumber=function(e){return!i.num(e)||e!=e},i.nan=i.notANum=i.notANumber,i.odd=function(e){return!i.decimal(e)&&"[object Number]"===o.call(e)&&e%2!=0},i.oddNumber=i.oddNum=i.odd,i.positiveNumber=function(e){return"[object Number]"===o.call(e)&&e>0},i.pos=i.positive=i.posNum=i.positiveNum=i.positiveNumber,i.negativeNumber=function(e){return"[object Number]"===o.call(e)&&e<0},i.neg=i.negNum=i.negativeNum=i.negativeNumber,i.negativeInteger=function(e){return"[object Number]"===o.call(e)&&e%1==0&&e<0},i.negativeInt=i.negInt=i.negativeInteger,i.positiveInteger=function(e){return"[object Number]"===o.call(e)&&e%1==0&&e>0},i.posInt=i.positiveInt=i.positiveInteger,i.divisibleBy=function(e,t){return 0!==e&&("[object Number]"===o.call(e)&&0!==t&&e%t==0)},i.divBy=i.divisBy=i.divisibleBy,i.greaterOrEqualTo=function(e,t){return e>=t},i.greaterOrEqual=i.ge=i.greaterOrEqualTo,i.greaterThan=function(e,t){return e>t},i.gt=i.greaterThan,i.lessThanOrEqualTo=function(e,t){return e<=t},i.lessThanOrEq=i.lessThanOrEqual=i.le=i.lessThanOrEqualTo,i.lessThan=function(e,t){return e<t},i.lt=i.lessThan,i.maximum=function(e,t){if(!i.arrayLike(t)||!i.number(e))return!1;for(var r=t.length;--r>-1;)if(e<t[r])return!1;return!0},i.max=i.maximum,i.minimum=function(e,t){if(!i.arrayLike(t)||!i.number(e))return!1;for(var r=t.length;--r>-1;)if(e>t[r])return!1;return!0},i.min=i.minimum,i.within=function(e,t,r){return e>=t&&e<=r},i.withIn=i.within,i.prettyClose=function(e,t,r){return!(!i.number(e)||!i.number(t))&&(!(i.defined(r)&&!i.posInt(r))&&(i.undefined(r)&&(r=2),e.toFixed(r)===t.toFixed(r)))},i.closish=i.near=i.prettyClose,i.dnsAddress=function(e){return!!i.nonEmptyStr(e)&&(!(e.length>255)&&(!f.test(e)&&!!l.test(e)))},i.dnsAddr=i.dns=i.dnsAddress;var l=/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9\-]{0,61}[a-zA-Z0-9]))*$/,f=/^([0-9]|[0-9][0-9\-]{0,61}[0-9])(\.([0-9]|[0-9][0-9\-]{0,61}[0-9]))*$/;i.emailAddress=function(e){return!!i.nonEmptyStr(e)&&d.test(e)},i.email=i.emailAddr=i.emailAddress;var d=/^([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x22([^\x0d\x22\x5c\x80-\xff]|\x5c[\x00-\x7f])*\x22))*\x40([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d)(\x2e([^\x00-\x20\x22\x28\x29\x2c\x2e\x3a-\x3c\x3e\x40\x5b-\x5d\x7f-\xff]+|\x5b([^\x0d\x5b-\x5d\x80-\xff]|\x5c[\x00-\x7f])*\x5d))*$/;i.ipv4Address=function(e){if(!i.nonEmptyStr(e))return!1;if(e.length>15)return!1;var t=e.split(".");if(!i.array(t)||4!==t.length)return!1;for(var r=0;r<t.length;r++){var n=parseInt(t[r],10);if(isNaN(n))return!1;if(n<0||n>255)return!1}return!0},i.ipv4=i.ipv4Addr=i.ipv4Address,i.ipv6Address=function(e){return!!i.nonEmptyStr(e)&&a.v6({extract:!0}).test(e)},i.ipv6=i.ipv6Addr=i.ipv6Address,i.ipAddress=function(e){return!!i.nonEmptyStr(e)&&(i.ipv4Address(e)||i.ipv6Address(e))},i.ip=i.ipAddr=i.ipAddress,i.hostAddress=function(e){return!!i.nonEmptyStr(e)&&(i.dns(e)||i.ipv4(e)||i.ipv6(e))},i.host=i.hostIp=i.hostAddr=i.hostAddress,i.port=function(e){return!(!i.num(e)||i.negativeInt(e)||e>65535)},i.systemPort=function(e){return!!(i.port(e)&&e<1024)},i.sysPort=i.systemPort,i.userPort=function(e){return!!(i.port(e)&&e>1023)},i.creditCardNumber=function(e){if(!i.str(e))return!1;var t,r,n=e.split("");for(t=n.length-1,r=1;t>-1;t--,r++)r%2==0&&(n[t]*=2);e=n.join("");var o=0;for(t=0;t<e.length;t++)o+=Math.floor(e[t]);return o%10==0},i.creditCard=i.creditCardNum=i.creditCardNumber,i.americanExpressCardNumber=function(e){if(!i.str(e)||15!==e.length)return!1;var t=Math.floor(e.slice(0,2));return(34===t||37===t)&&!!i.creditCardNumber(e)},i.amexCard=i.amexCardNum=i.americanExpressCardNumber,i.chinaUnionPayCardNumber=function(e){if(!i.str(e)||e.length<16&&e.length>19)return!1;var t=Math.floor(e.slice(0,2));return 62===t||88===t},i.chinaUnion=i.chinaUnionPayCard=i.chinaUnionPayCardNumber,i.dinersClubCarteBlancheCardNumber=function(e){if(!i.str(e)||14!==e.length)return!1;var t=Math.floor(e.slice(0,3));return!(t<300||t>305)&&!!i.creditCardNumber(e)},i.dinersClubCB=i.dinersClubCarteBlancheCard=i.dinersClubCarteBlancheCardNumber,i.dinersClubInternationalCardNumber=function(e){if(!i.str(e)||14!==e.length)return!1;var t=Math.floor(e.slice(0,3)),r=Math.floor(e.slice(0,2));return(!(t<300||t>305)||309===t||36===r||!(r<38||r>39))&&!!i.creditCardNumber(e)},i.dinersClubInt=i.dinersClubInternationalCard=i.dinersClubInternationalCardNumber,i.dinersClubUSACanadaCardNumber=function(e){if(!i.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,2));return(54===t||55===t)&&!!i.creditCardNumber(e)},i.dinersClub=i.dinersClubUSACanCard=i.dinersClubUSACanadaCardNumber,i.discoverCardNumber=function(e){if(!i.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,6)),r=Math.floor(e.slice(0,3));return("6011"===e.slice(0,4)||!(t<622126||t>622925)||!(r<644||r>649)||"65"===e.slice(0,2))&&!!i.creditCardNumber(e)},i.discover=i.discoverCard=i.discoverCardNumber,i.instaPaymentCardNumber=function(e){if(!i.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,3));return!(t<637||t>639)&&!!i.creditCardNumber(e)},i.instaPayment=i.instaPaymentCardNumber,i.jcbCardNumber=function(e){if(!i.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,4));return!(t<3528||t>3589)&&!!i.creditCardNumber(e)},i.jcb=i.jcbCard=i.jcbCardNumber,i.laserCardNumber=function(e){if(!i.str(e)||e.length<16&&e.length>19)return!1;var t=Math.floor(e.slice(0,4));return-1!==[6304,6706,6771,6709].indexOf(t)&&!!i.creditCardNumber(e)},i.laser=i.laserCard=i.laserCardNumber,i.maestroCardNumber=function(e){if(!i.str(e)||e.length<12||e.length>19)return!1;var t=e.slice(0,4);return-1!==["5018","5020","5038","5612","5893","6304","6759","6761","6762","6763","0604","6390"].indexOf(t)&&!!i.creditCardNumber(e)},i.maestro=i.maestroCard=i.maestroCardNumber,i.dankortCardNumber=function(e){return!(!i.str(e)||16!==e.length)&&("5019"===e.slice(0,4)&&!!i.creditCardNumber(e))},i.dankort=i.dankortCard=i.dankortCardNumber,i.masterCardCardNumber=function(e){if(!i.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,2));return!(t<50||t>55)&&!!i.creditCardNumber(e)},i.masterCard=i.masterCardCard=i.masterCardCardNumber,i.visaCardNumber=function(e){return!(!i.str(e)||13!==e.length&&16!==e.length)&&("4"===e.slice(0,1)&&!!i.creditCardNumber(e))},i.visa=i.visaCard=i.visaCardNumber,i.visaElectronCardNumber=function(e){if(!i.str(e)||16!==e.length)return!1;var t=Math.floor(e.slice(0,4));return"417500"!==e.slice(0,6)&&-1===[4026,4405,4508,4844,4913,4917].indexOf(t)||i.creditCardNumber(e),!1},i.visaElectron=i.visaElectronCard=i.visaElectronCardNumber;var p=/^[0-9a-fA-F]{24}$/;i.mongoId=i.objectId=i.objId=function(e){return Boolean(e)&&!Array.isArray(e)&&p.test(String(e))},i.matching=i.match=i.inArgs=function(e){if(arguments.length<2)return!1;for(var t=!1,r=1;r<arguments.length;r++){var n=i.equal(e,arguments[r]);t=t||n}return t},i.streetAddress=function(e){if(!i.str(e))return!1;return/\b\d+[\s](?:[A-Za-z0-9.-]+[\s]+)+\b(ALLEY|ALY|AVENUE|AVE|BEND|BND|BLUFFS?|BLFS?|BOULEVARD|BLVD|BRANCH|BR|CENTERS?|CTRS?|CIRCLES?|CIRS?|CLIFFS?|CLFS?|COURTS?|CTS?|COVES?|CVS?|CREEK|CRK|CRESCENT|CRES|CREST|CRST|CROSSING|XING|DRIVES?|DRS?|EXPRESSWAY|EXPY|FREEWAY|FWY|HEIGHTS|HTS|HIGHWAY|HWY|HILLS?|HLS?|LANE|LN|LOOP|MANORS?|MNRS?|MOTORWAY|MTWY|MOUNT|MT|PARKS?|PARKWAYS?|PKWY|PASS|PLACE|PL|PLAZA|PLZ|POINTS?|PTS?|RIDGES?|RDGS?|ROADS?|RDS?|ROUTE|RTE?|SHOALS?|SHLS?|SHORES?|SHRS?|SPRINGS?|SPGS?|SPURS?|STREETS?|STS?|SUMMIT|SMT|TERRACE|TER|THROUGHWAY|TRWY|TRAFFICWAY|TRFY|TRAIL|TRL|TURNPIKE|TPKE|VALLEYS?|VLYS?|WAYS?)+(?:[\.\-\s\,]?)*((APARTMENT|APT|APPT|#|NUMBER|NUM|FLOOR|FL|\s)?(\d)*)\b/gi.test(e)},i.street=i.address=i.streetAddress,i.zipCode=function(e){if(i.undefined(e)||!i.string(e)&&!i.number(e))return!1;return/^\d{5}(?:-\d{4})?$/.test(e)},i.zip=i.zipCode,i.phoneNumber=function(e){if(!i.string(e))return!1;return/(?:(?:\+?1\s*(?:[.-]\s*)?)?(?:(\(?)(?:(\s*([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]‌​)\s*)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\)?)\s*(?:[.-]\s*)?)?([2-9]1[02-‌​9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})/g.test(e)},i.phone=i.phoneNumber;var h=r(183);i.url=function(e){return h(e)},i.uri=i.url,i.enumerator=function(e,t){var r=!1;if(!i.defined(e)||!i.defined(t)||!i.arrayLike(t))return r;for(var n=0,o=t.length;n<o;n++)if(i.equal(e,t[n])){r=!0;break}return r},i.enum=i.inArray=i.enumerator},function(e,t){var r=Array.prototype.slice,n="function"==typeof Object.keys?Object.keys:function(e){var t=[];for(var r in e)t.push(r);return t},o=e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():a(e)?a(t):"object"!=typeof e&&"object"!=typeof t?e==t:function(e,t){if(i(e)||i(t))return!1;if(e.prototype!==t.prototype)return!1;if(s(e))return!!s(t)&&(e=r.call(e),t=r.call(t),o(e,t));try{var a,c,u=n(e),l=n(t)}catch(e){return!1}if(u.length!=l.length)return!1;for(u.sort(),l.sort(),c=u.length-1;c>=0;c--)if(u[c]!=l[c])return!1;for(c=u.length-1;c>=0;c--)if(a=u[c],!o(e[a],t[a]))return!1;return!0}(e,t))};function i(e){return null==e}function s(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function a(e){return"number"==typeof e&&e!=e}},function(e,t,r){"use strict";const n="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",o="[0-9a-fA-F]{1,4}",i=`\n(\n(?:${o}:){7}(?:${o}|:)|                                // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${o}:){6}(?:${n}|:${o}|:)|                         // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${o}:){5}(?::${n}|(:${o}){1,2}|:)|                 // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${o}:){4}(?:(:${o}){0,1}:${n}|(:${o}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${o}:){3}(?:(:${o}){0,2}:${n}|(:${o}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${o}:){2}(?:(:${o}){0,3}:${n}|(:${o}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${o}:){1}(?:(:${o}){0,4}:${n}|(:${o}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::((?::${o}){0,5}:${n}|(?::${o}){1,7}|:))           // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(%[0-9a-zA-Z]{1,})?                                           // %eth0            %1\n`.replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),s=e.exports=e=>e&&e.exact?new RegExp(`(?:^${n}$)|(?:^${i}$)`):new RegExp(`(?:${n})|(?:${i})`,"g");s.v4=e=>e&&e.exact?new RegExp(`^${n}$`):new RegExp(n,"g"),s.v6=e=>e&&e.exact?new RegExp(`^${i}$`):new RegExp(i,"g")},function(e){e.exports=JSON.parse('{"name":"is2","version":"2.0.1","description":"A type checking library where each exported function returns either true or false and does not throw. Also added tests.","license":"MIT","tags":["type","check","checker","checking","utilities","network","networking","credit","card","validation"],"keywords":["type","check","checker","checking","utilities","network","networking","credit","card","validation"],"author":"Enrico Marino <enrico.marino@email.com>","maintainers":"Edmond Meinfelder <edmond@stdarg.com>, Chris Oyler <christopher.oyler@gmail.com>","homepage":"http://github.com/stdarg/is2","repository":{"type":"git","url":"git@github.com:stdarg/is2.git"},"bugs":{"url":"http://github.com/stdarg/is/issues"},"main":"./index.js","scripts":{"test":"./node_modules/.bin/mocha -C --reporter list tests.js"},"engines":{"node":">=v0.10.0"},"dependencies":{"deep-is":"^0.1.3","ip-regex":"^2.1.0","is-url":"^1.2.2"},"devDependencies":{"jsdom":"0.5.0","mocha":"5.0.1","mongodb":"3.0.2"},"_resolved":"https://registry.npmjs.org/is2/-/is2-2.0.1.tgz","_integrity":"sha512-+WaJvnaA7aJySz2q/8sLjMb2Mw14KTplHmSwcSpZ/fWJPkUmqw3YTzSWbPJ7OAwRvdYTWF2Wg+yYJ1AdP5Z8CA==","_from":"is2@2.0.1"}')},function(e,t){e.exports=function(e){if("string"!=typeof e)return!1;var t=e.match(r);if(!t)return!1;var i=t[1];if(!i)return!1;if(n.test(i)||o.test(i))return!0;return!1};var r=/^(?:\w+:)?\/\/(\S+)$/,n=/^localhost[\:?\d]*(?:[^\:?\d]\S*)?$/,o=/^[^\s\.]+\.\S{2,}$/},function(e,t){e.exports=require("net")},function(e,t,r){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=r(186):e.exports=r(188)},function(e,t,r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(57)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var r=1e3,n=6e4,o=60*n,i=24*o;function s(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return s(e,t,i,"day");if(t>=o)return s(e,t,o,"hour");if(t>=n)return s(e,t,n,"minute");if(t>=r)return s(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){const n=r(189),o=r(13);t.init=function(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(r){const{namespace:n,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${n} [0m`;r[0]=i+r[0].split("\n").join("\n"+i),r.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=r(190);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=r(57)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,r){"use strict";const n=r(27),o=r(191),i=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=n.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in i)||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,t)}(e))}o("no-color")||o("no-colors")||o("color=false")?s=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=!0),"FORCE_COLOR"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t,r){"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)}},function(e,t,r){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))},s=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r(56)),u=r(193),l=function(e){function t(t,r){var n=e.call(this,t)||this;return n.listener=r,n}return o(t,e),t.prototype.doStart=function(){return i(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,new Promise((function(t){u.createServer(e.listener).listen(e.port,t)}))]}))}))},t}(c.default);t.default=l},function(e,t){e.exports=require("http")},function(e,t,r){"use strict";r.r(t),r.d(t,"v1",(function(){return y})),r.d(t,"v3",(function(){return b})),r.d(t,"v4",(function(){return g})),r.d(t,"v5",(function(){return x})),r.d(t,"NIL",(function(){return _})),r.d(t,"version",(function(){return w})),r.d(t,"validate",(function(){return c})),r.d(t,"stringify",(function(){return l})),r.d(t,"parse",(function(){return m}));var n=r(7),o=r.n(n);const i=new Uint8Array(16);function s(){return o.a.randomFillSync(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;var c=function(e){return"string"==typeof e&&a.test(e)};const u=[];for(let e=0;e<256;++e)u.push((e+256).toString(16).substr(1));var l=function(e,t=0){const r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!c(r))throw TypeError("Stringified UUID is invalid");return r};let f,d,p=0,h=0;var y=function(e,t,r){let n=t&&r||0;const o=t||new Array(16);let i=(e=e||{}).node||f,a=void 0!==e.clockseq?e.clockseq:d;if(null==i||null==a){const t=e.random||(e.rng||s)();null==i&&(i=f=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==a&&(a=d=16383&(t[6]<<8|t[7]))}let c=void 0!==e.msecs?e.msecs:Date.now(),u=void 0!==e.nsecs?e.nsecs:h+1;const y=c-p+(u-h)/1e4;if(y<0&&void 0===e.clockseq&&(a=a+1&16383),(y<0||c>p)&&void 0===e.nsecs&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=c,h=u,d=a,c+=122192928e5;const m=(1e4*(268435455&c)+u)%4294967296;o[n++]=m>>>24&255,o[n++]=m>>>16&255,o[n++]=m>>>8&255,o[n++]=255&m;const v=c/4294967296*1e4&268435455;o[n++]=v>>>8&255,o[n++]=255&v,o[n++]=v>>>24&15|16,o[n++]=v>>>16&255,o[n++]=a>>>8|128,o[n++]=255&a;for(let e=0;e<6;++e)o[n+e]=i[e];return t||l(o)};var m=function(e){if(!c(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};var v=function(e,t,r){function n(e,n,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=m(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+e.length);if(s.set(n),s.set(e,n.length),s=r(s),s[6]=15&s[6]|t,s[8]=63&s[8]|128,o){i=i||0;for(let e=0;e<16;++e)o[i+e]=s[e];return o}return l(s)}try{n.name=e}catch(e){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};var b=v("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("md5").update(e).digest()}));var g=function(e,t,r){const n=(e=e||{}).random||(e.rng||s)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return l(n)};var x=v("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),o.a.createHash("sha1").update(e).digest()})),_="00000000-0000-0000-0000-000000000000";var w=function(e){if(!c(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}}])}));